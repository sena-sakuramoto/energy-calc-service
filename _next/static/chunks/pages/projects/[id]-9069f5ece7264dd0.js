(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[92],{8245:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/projects/[id]",function(){return s(8146)}])},3522:function(e,t,s){"use strict";s.d(t,{lm:function(){return c}});var r=s(5893),l=s(7294),n=s(9583);let a=(0,l.createContext)(),c=()=>{let e=(0,l.useContext)(a);if(!e)throw Error("useNotification must be used within a NotificationProvider");return e};t.ZP=e=>{let{type:t="error",message:s,onClose:a,autoClose:c=!0,duration:i=5e3,className:o=""}=e,[d,x]=(0,l.useState)(!0);if((0,l.useEffect)(()=>{if(c&&d){let e=setTimeout(()=>{x(!1),a&&a()},i);return()=>clearTimeout(e)}},[c,i,d,a]),!d||!s)return null;let m={error:{bgColor:"bg-red-50 border-red-200",textColor:"text-red-800",iconColor:"text-red-400",icon:n.gJy},success:{bgColor:"bg-green-50 border-green-200",textColor:"text-green-800",iconColor:"text-green-400",icon:n.FJM},warning:{bgColor:"bg-yellow-50 border-yellow-200",textColor:"text-yellow-800",iconColor:"text-yellow-400",icon:n.gJy},info:{bgColor:"bg-blue-50 border-blue-200",textColor:"text-blue-800",iconColor:"text-blue-400",icon:n.DAO}}[t],u=m.icon;return(0,r.jsx)("div",{className:"rounded-md border p-4 ".concat(m.bgColor," ").concat(o),children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)(u,{className:"h-5 w-5 ".concat(m.iconColor)})}),(0,r.jsx)("div",{className:"ml-3 flex-1",children:(0,r.jsx)("p",{className:"text-sm font-medium ".concat(m.textColor),children:s})}),(0,r.jsx)("div",{className:"ml-auto pl-3",children:(0,r.jsx)("div",{className:"-mx-1.5 -my-1.5",children:(0,r.jsxs)("button",{type:"button",className:"inline-flex rounded-md p-1.5 ".concat(m.textColor," hover:bg-opacity-20 hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-600 focus:ring-offset-2"),onClick:()=>{x(!1),a&&a()},children:[(0,r.jsx)("span",{className:"sr-only",children:"閉じる"}),(0,r.jsx)(n.aHS,{className:"h-4 w-4"})]})})})]})})}},1047:function(e,t,s){"use strict";var r=s(5893),l=s(9583);t.ZP=e=>{let{size:t="medium",message:s="読み込み中..."}=e;return(0,r.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(l.fCD,{className:"animate-spin text-blue-600 mx-auto mb-4 ".concat({small:"text-lg",medium:"text-2xl",large:"text-4xl"}[t])}),(0,r.jsx)("p",{className:"text-gray-600",children:s})]})})}},8146:function(e,t,s){"use strict";s.r(t);var r=s(5893),l=s(7294),n=s(1163),a=s(1664),c=s.n(a),i=s(4436),o=s(3718),d=s(3522),x=s(1047),m=s(9583);t.default=()=>{let e=(0,n.useRouter)(),{id:t}=e.query,{user:s}=(0,l.useContext)(i.ZP),{showError:a,showSuccess:u}=(0,d.lm)(),[h,g]=(0,l.useState)(null),[b,j]=(0,l.useState)(!0),[f,p]=(0,l.useState)(!1);(0,l.useEffect)(()=>{t&&s&&N()},[t,s]);let N=async()=>{try{j(!0);let e=await o.hY.getById(t);g(e.data)}catch(e){console.error("Failed to fetch project:",e),a("プロジェクトの取得に失敗しました")}finally{j(!1)}},y=async()=>{if(confirm("本当にこのプロジェクトを削除しますか？この操作は取り消せません。")){p(!0);try{await o.hY.delete(t),u("プロジェクトを削除しました"),e.push("/projects")}catch(e){console.error("Failed to delete project:",e),a("プロジェクトの削除に失敗しました")}finally{p(!1)}}};return s?b?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,r.jsx)("div",{className:"max-w-4xl mx-auto px-4",children:(0,r.jsx)(x.ZP,{size:"large",message:"プロジェクトを読み込み中..."})})}):h?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)(c(),{href:"/projects",className:"inline-flex items-center text-blue-600 hover:text-blue-800 mb-4",children:[(0,r.jsx)(m.x_l,{className:"mr-2"}),"プロジェクト一覧に戻る"]}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:h.name}),h.description&&(0,r.jsx)("p",{className:"text-gray-600 text-lg mb-4",children:h.description}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:["作成日: ",new Date(h.created_at).toLocaleDateString("ja-JP")]})]}),(0,r.jsx)("div",{className:"flex space-x-2",children:(0,r.jsx)("button",{onClick:y,disabled:f,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 disabled:bg-gray-400 flex items-center",children:f?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.ZP,{size:"small",message:""}),(0,r.jsx)("span",{className:"ml-2",children:"削除中..."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.Xm5,{className:"mr-2"}),"削除"]})})})]})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[(0,r.jsx)("div",{className:"bg-blue-100 p-3 rounded-full mr-4",children:(0,r.jsx)(m.T_s,{className:"text-blue-600 text-xl"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"省エネ計算実行"}),(0,r.jsx)("p",{className:"text-gray-600",children:"建物の省エネ性能を計算します"})]})]}),(0,r.jsx)(c(),{href:"/projects/".concat(t,"/calculate"),className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors font-medium text-center block",children:"計算を開始"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[(0,r.jsx)("div",{className:"bg-green-100 p-3 rounded-full mr-4",children:(0,r.jsx)(m.dSq,{className:"text-green-600 text-xl"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"計算結果確認"}),(0,r.jsx)("p",{className:"text-gray-600",children:"過去の計算結果を確認します"})]})]}),(0,r.jsx)(c(),{href:"/projects/".concat(t,"/result"),className:"w-full bg-green-600 text-white py-3 px-6 rounded-lg hover:bg-green-700 transition-colors font-medium text-center block",children:"結果を確認"})]})]}),(0,r.jsxs)("div",{className:"mt-8 bg-white rounded-lg shadow-lg p-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"プロジェクト情報"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"プロジェクトID"}),(0,r.jsx)("p",{className:"text-gray-600",children:h.id})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"作成者"}),(0,r.jsx)("p",{className:"text-gray-600",children:"あなた"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"最終更新"}),(0,r.jsx)("p",{className:"text-gray-600",children:h.updated_at?new Date(h.updated_at).toLocaleDateString("ja-JP"):new Date(h.created_at).toLocaleDateString("ja-JP")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"ステータス"}),(0,r.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"アクティブ"})]})]})]})]})}):(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"プロジェクトが見つかりません"}),(0,r.jsx)(c(),{href:"/projects",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"プロジェクト一覧に戻る"})]})}):(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"ログインが必要です"}),(0,r.jsx)("button",{onClick:()=>e.push("/login"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"ログインページへ"})]})})}},8357:function(e,t,s){"use strict";s.d(t,{w_:function(){return i}});var r=s(7294),l={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n=r.createContext&&r.createContext(l),a=function(){return(a=Object.assign||function(e){for(var t,s=1,r=arguments.length;s<r;s++)for(var l in t=arguments[s])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)},c=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,r=Object.getOwnPropertySymbols(e);l<r.length;l++)0>t.indexOf(r[l])&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(s[r[l]]=e[r[l]]);return s};function i(e){return function(t){return r.createElement(o,a({attr:a({},e.attr)},t),function e(t){return t&&t.map(function(t,s){return r.createElement(t.tag,a({key:s},t.attr),e(t.child))})}(e.child))}}function o(e){var t=function(t){var s,l=e.attr,n=e.size,i=e.title,o=c(e,["attr","size","title"]),d=n||t.size||"1em";return t.className&&(s=t.className),e.className&&(s=(s?s+" ":"")+e.className),r.createElement("svg",a({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,l,o,{className:s,style:a(a({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),i&&r.createElement("title",null,i),e.children)};return void 0!==n?r.createElement(n.Consumer,null,function(e){return t(e)}):t(l)}}},function(e){e.O(0,[445,664,774,888,179],function(){return e(e.s=8245)}),_N_E=e.O()}]);