(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[689],{6141:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/projects/new",function(){return r(9438)}])},3522:function(e,t,r){"use strict";r.d(t,{lm:function(){return a}});var n=r(5893),s=r(7294),l=r(9583);let o=(0,s.createContext)(),a=()=>{let e=(0,s.useContext)(o);if(!e)throw Error("useNotification must be used within a NotificationProvider");return e};t.ZP=e=>{let{type:t="error",message:r,onClose:o,autoClose:a=!0,duration:c=5e3,className:i=""}=e,[u,d]=(0,s.useState)(!0);if((0,s.useEffect)(()=>{if(a&&u){let e=setTimeout(()=>{d(!1),o&&o()},c);return()=>clearTimeout(e)}},[a,c,u,o]),!u||!r)return null;let m={error:{bgColor:"bg-red-50 border-red-200",textColor:"text-red-800",iconColor:"text-red-400",icon:l.gJy},success:{bgColor:"bg-green-50 border-green-200",textColor:"text-green-800",iconColor:"text-green-400",icon:l.FJM},warning:{bgColor:"bg-yellow-50 border-yellow-200",textColor:"text-yellow-800",iconColor:"text-yellow-400",icon:l.gJy},info:{bgColor:"bg-blue-50 border-blue-200",textColor:"text-blue-800",iconColor:"text-blue-400",icon:l.DAO}}[t],x=m.icon;return(0,n.jsx)("div",{className:"rounded-md border p-4 ".concat(m.bgColor," ").concat(i),children:(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("div",{className:"flex-shrink-0",children:(0,n.jsx)(x,{className:"h-5 w-5 ".concat(m.iconColor)})}),(0,n.jsx)("div",{className:"ml-3 flex-1",children:(0,n.jsx)("p",{className:"text-sm font-medium ".concat(m.textColor),children:r})}),(0,n.jsx)("div",{className:"ml-auto pl-3",children:(0,n.jsx)("div",{className:"-mx-1.5 -my-1.5",children:(0,n.jsxs)("button",{type:"button",className:"inline-flex rounded-md p-1.5 ".concat(m.textColor," hover:bg-opacity-20 hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-600 focus:ring-offset-2"),onClick:()=>{d(!1),o&&o()},children:[(0,n.jsx)("span",{className:"sr-only",children:"閉じる"}),(0,n.jsx)(l.aHS,{className:"h-4 w-4"})]})})})]})})}},1047:function(e,t,r){"use strict";var n=r(5893),s=r(9583);t.ZP=e=>{let{size:t="medium",message:r="読み込み中..."}=e;return(0,n.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)(s.fCD,{className:"animate-spin text-blue-600 mx-auto mb-4 ".concat({small:"text-lg",medium:"text-2xl",large:"text-4xl"}[t])}),(0,n.jsx)("p",{className:"text-gray-600",children:r})]})})}},9438:function(e,t,r){"use strict";r.r(t);var n=r(5893),s=r(7294),l=r(1163),o=r(4436),a=r(3718),c=r(3522),i=r(1047);t.default=()=>{let e=(0,l.useRouter)(),{user:t}=(0,s.useContext)(o.ZP),{showError:r,showSuccess:u}=(0,c.lm)(),[d,m]=(0,s.useState)(!1),[x,b]=(0,s.useState)({name:"",description:""}),f=async t=>{if(t.preventDefault(),!x.name.trim()){r("プロジェクト名を入力してください");return}m(!0);try{let t=await a.hY.create(x);console.log("Project created:",t.data),u("プロジェクトを作成しました"),e.push("/projects")}catch(e){console.error("Project creation failed:",e),r("プロジェクトの作成に失敗しました")}finally{m(!1)}},h=e=>{let{name:t,value:r}=e.target;b(e=>({...e,[t]:r}))};return t?(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,n.jsx)("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[(0,n.jsxs)("div",{className:"mb-8",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"新規プロジェクト作成"}),(0,n.jsx)("p",{className:"text-gray-600",children:"省エネ法計算の新しいプロジェクトを作成します"})]}),(0,n.jsxs)("form",{onSubmit:f,className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:["プロジェクト名 ",(0,n.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,n.jsx)("input",{type:"text",id:"name",name:"name",value:x.name,onChange:h,required:!0,placeholder:"例: オフィスビル A棟 省エネ計算",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"プロジェクト説明"}),(0,n.jsx)("textarea",{id:"description",name:"description",value:x.description,onChange:h,rows:"4",placeholder:"プロジェクトの詳細説明を入力してください（任意）",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-vertical"})]}),(0,n.jsxs)("div",{className:"flex space-x-4 pt-6",children:[(0,n.jsx)("button",{type:"button",onClick:()=>e.push("/projects"),className:"flex-1 bg-gray-500 text-white py-3 px-6 rounded-lg hover:bg-gray-600 transition-colors font-medium",disabled:d,children:"キャンセル"}),(0,n.jsx)("button",{type:"submit",disabled:d||!x.name.trim(),className:"flex-1 bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium flex items-center justify-center",children:d?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.ZP,{size:"small",message:""}),(0,n.jsx)("span",{className:"ml-2",children:"作成中..."})]}):"プロジェクトを作成"})]})]})]})})}):(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"ログインが必要です"}),(0,n.jsx)("button",{onClick:()=>e.push("/login"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"ログインページへ"})]})})}},8357:function(e,t,r){"use strict";r.d(t,{w_:function(){return c}});var n=r(7294),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},l=n.createContext&&n.createContext(s),o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},a=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)0>t.indexOf(n[s])&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};function c(e){return function(t){return n.createElement(i,o({attr:o({},e.attr)},t),function e(t){return t&&t.map(function(t,r){return n.createElement(t.tag,o({key:r},t.attr),e(t.child))})}(e.child))}}function i(e){var t=function(t){var r,s=e.attr,l=e.size,c=e.title,i=a(e,["attr","size","title"]),u=l||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),n.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,i,{className:r,style:o(o({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),c&&n.createElement("title",null,c),e.children)};return void 0!==l?n.createElement(l.Consumer,null,function(e){return t(e)}):t(s)}}},function(e){e.O(0,[445,774,888,179],function(){return e(e.s=6141)}),_N_E=e.O()}]);