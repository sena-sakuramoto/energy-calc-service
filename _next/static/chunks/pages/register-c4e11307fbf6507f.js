(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{922:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return t(7726)}])},7726:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return d}});var a=t(5893),r=t(7294),l=t(1664),n=t.n(l),o=t(4436);function d(){let[e,s]=(0,r.useState)(""),[t,l]=(0,r.useState)(""),[d,i]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[m,x]=(0,r.useState)(!1),{register:b}=(0,o.aC)(),p=async s=>{if(s.preventDefault(),u(""),x(!0),t.length<8){u("パスワードは8文字以上で入力してください。"),x(!1);return}let a={email:e,password:t,full_name:d||null};console.log("Submitting from register.jsx with data:",JSON.stringify(a));try{await b(a)}catch(s){let e="登録中に予期せぬエラーが発生しました。";s.response&&s.response.data&&s.response.data.detail?Array.isArray(s.response.data.detail)?e=s.response.data.detail.map(e=>"".concat(e.loc&&e.loc.length>1?e.loc[1]:"Error",": ").concat(e.msg)).join("\n"):"string"==typeof s.response.data.detail&&(e=s.response.data.detail):s.message&&(e=s.message),u(e),console.error("Registration page caught error:",s)}finally{x(!1)}};return(0,a.jsxs)("div",{className:"max-w-md mx-auto mt-8 p-6 bg-white shadow-lg rounded-lg",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-6 text-center text-gray-700",children:"新規アカウント登録"}),c&&(0,a.jsxs)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4",role:"alert",children:[(0,a.jsx)("p",{className:"font-bold",children:"登録エラー"}),c.split("\n").map((e,s)=>(0,a.jsx)("span",{className:"block",children:e},s))]}),(0,a.jsxs)("form",{onSubmit:p,children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("label",{className:"block text-gray-700 text-sm font-semibold mb-2",htmlFor:"fullName",children:["氏名 ",(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"(任意)"})]}),(0,a.jsx)("input",{className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",id:"fullName",type:"text",placeholder:"例: 山田 太郎",value:d,onChange:e=>i(e.target.value),disabled:m})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("label",{className:"block text-gray-700 text-sm font-semibold mb-2",htmlFor:"email",children:["メールアドレス ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",id:"email",type:"email",placeholder:"email@example.com",value:e,onChange:e=>s(e.target.value),required:!0,disabled:m})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("label",{className:"block text-gray-700 text-sm font-semibold mb-2",htmlFor:"password",children:["パスワード ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})," ",(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"(8文字以上)"})]}),(0,a.jsx)("input",{className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",id:"password",type:"password",placeholder:"••••••••",value:t,onChange:e=>l(e.target.value),required:!0,disabled:m})]}),(0,a.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,a.jsx)("button",{className:"w-full bg-blue-500 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded focus:outline-none focus:shadow-outline transition duration-150 ease-in-out ".concat(m?"opacity-50 cursor-not-allowed":""),type:"submit",disabled:m,children:m?"登録処理中...":"登録する"})}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)(n(),{href:"/login",className:"font-medium text-sm text-blue-500 hover:text-blue-700",children:"既にアカウントをお持ちですか？ ログイン"})})]})]})}}},function(e){e.O(0,[664,774,888,179],function(){return e(e.s=922)}),_N_E=e.O()}]);