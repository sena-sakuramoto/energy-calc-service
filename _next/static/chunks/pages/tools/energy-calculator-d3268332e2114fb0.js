(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[716],{3728:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tools/energy-calculator",function(){return t(6651)}])},3522:function(e,s,t){"use strict";t.d(s,{lm:function(){return o}});var r=t(5893),l=t(7294),a=t(9583);let n=(0,l.createContext)(),o=()=>{let e=(0,l.useContext)(n);if(!e)throw Error("useNotification must be used within a NotificationProvider");return e};s.ZP=e=>{let{type:s="error",message:t,onClose:n,autoClose:o=!0,duration:c=5e3,className:i=""}=e,[d,x]=(0,l.useState)(!0);if((0,l.useEffect)(()=>{if(o&&d){let e=setTimeout(()=>{x(!1),n&&n()},c);return()=>clearTimeout(e)}},[o,c,d,n]),!d||!t)return null;let u={error:{bgColor:"bg-red-50 border-red-200",textColor:"text-red-800",iconColor:"text-red-400",icon:a.gJy},success:{bgColor:"bg-green-50 border-green-200",textColor:"text-green-800",iconColor:"text-green-400",icon:a.FJM},warning:{bgColor:"bg-yellow-50 border-yellow-200",textColor:"text-yellow-800",iconColor:"text-yellow-400",icon:a.gJy},info:{bgColor:"bg-blue-50 border-blue-200",textColor:"text-blue-800",iconColor:"text-blue-400",icon:a.DAO}}[s],m=u.icon;return(0,r.jsx)("div",{className:"rounded-md border p-4 ".concat(u.bgColor," ").concat(i),children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)(m,{className:"h-5 w-5 ".concat(u.iconColor)})}),(0,r.jsx)("div",{className:"ml-3 flex-1",children:(0,r.jsx)("p",{className:"text-sm font-medium ".concat(u.textColor),children:t})}),(0,r.jsx)("div",{className:"ml-auto pl-3",children:(0,r.jsx)("div",{className:"-mx-1.5 -my-1.5",children:(0,r.jsxs)("button",{type:"button",className:"inline-flex rounded-md p-1.5 ".concat(u.textColor," hover:bg-opacity-20 hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-600 focus:ring-offset-2"),onClick:()=>{x(!1),n&&n()},children:[(0,r.jsx)("span",{className:"sr-only",children:"閉じる"}),(0,r.jsx)(a.aHS,{className:"h-4 w-4"})]})})})]})})}},8998:function(e,s,t){"use strict";t.d(s,{Z:function(){return x}});var r=t(5893),l=t(7294),a=t(4436),n=t(1664),o=t.n(n),c=t(9583);function i(){let{isAuthenticated:e,logout:s}=(0,a.aC)(),[t,n]=(0,l.useState)(!1),[i,d]=(0,l.useState)(!1),x=()=>{n(!1),d(!1)};return(0,r.jsxs)("header",{className:"bg-gradient-to-r from-blue-600 to-green-600 text-white shadow-lg",children:[(0,r.jsxs)("div",{className:"container mx-auto px-4 py-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)(o(),{href:"/",className:"text-xl font-bold hover:text-blue-200 transition-colors",children:"エネルギー計算サービス"}),(0,r.jsxs)("nav",{className:"hidden md:flex items-center space-x-6",children:[e&&(0,r.jsx)("li",{className:"list-none",children:(0,r.jsx)(o(),{href:"/projects",className:"hover:text-blue-200 transition-colors",children:"プロジェクト"})}),(0,r.jsxs)("li",{className:"relative list-none",children:[(0,r.jsxs)("button",{onClick:()=>{n(!t)},className:"flex items-center hover:text-blue-200 transition-colors",children:[(0,r.jsx)(c.T_s,{className:"mr-2"}),"計算ツール",(0,r.jsx)(c.RiI,{className:"ml-1 text-sm"})]}),t&&(0,r.jsxs)("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg py-2 z-50",children:[(0,r.jsx)(o(),{href:"/tools/bei-calculator",className:"block px-4 py-2 text-gray-800 hover:bg-blue-50 hover:text-blue-600 transition-colors",onClick:x,children:"BEI計算"}),(0,r.jsx)(o(),{href:"/tools/energy-calculator",className:"block px-4 py-2 text-gray-800 hover:bg-blue-50 hover:text-blue-600 transition-colors",onClick:x,children:"エネルギー計算"}),(0,r.jsx)(o(),{href:"/tools/tariff-calculator",className:"block px-4 py-2 text-gray-800 hover:bg-blue-50 hover:text-blue-600 transition-colors",onClick:x,children:"電力料金見積もり"})]})]}),e?(0,r.jsx)("li",{className:"list-none",children:(0,r.jsxs)("button",{onClick:s,className:"flex items-center hover:text-blue-200 transition-colors",children:[(0,r.jsx)(c.fHX,{className:"mr-2"}),"ログアウト"]})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("li",{className:"list-none",children:(0,r.jsx)(o(),{href:"/login",className:"hover:text-blue-200 transition-colors",children:"ログイン"})}),(0,r.jsx)("li",{className:"list-none",children:(0,r.jsx)(o(),{href:"/register",className:"bg-white text-blue-600 px-4 py-2 rounded-lg hover:bg-blue-50 transition-colors font-medium",children:"新規登録"})})]})]}),(0,r.jsx)("button",{onClick:()=>d(!i),className:"md:hidden text-2xl",children:i?(0,r.jsx)(c.aHS,{}):(0,r.jsx)(c.Fm7,{})})]}),i&&(0,r.jsx)("nav",{className:"md:hidden mt-4 pb-4 border-t border-blue-500 pt-4",children:(0,r.jsxs)("div",{className:"flex flex-col space-y-3",children:[e&&(0,r.jsx)(o(),{href:"/projects",className:"hover:text-blue-200 transition-colors",onClick:x,children:"プロジェクト"}),(0,r.jsxs)("div",{className:"border-l-4 border-blue-400 pl-4",children:[(0,r.jsx)("div",{className:"text-blue-200 font-medium mb-2",children:"計算ツール"}),(0,r.jsxs)("div",{className:"flex flex-col space-y-2 ml-2",children:[(0,r.jsx)(o(),{href:"/tools/bei-calculator",className:"text-sm hover:text-blue-200 transition-colors",onClick:x,children:"BEI計算"}),(0,r.jsx)(o(),{href:"/tools/energy-calculator",className:"text-sm hover:text-blue-200 transition-colors",onClick:x,children:"エネルギー計算"}),(0,r.jsx)(o(),{href:"/tools/tariff-calculator",className:"text-sm hover:text-blue-200 transition-colors",onClick:x,children:"電力料金見積もり"})]})]}),e?(0,r.jsxs)("button",{onClick:()=>{s(),x()},className:"flex items-center hover:text-blue-200 transition-colors text-left",children:[(0,r.jsx)(c.fHX,{className:"mr-2"}),"ログアウト"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o(),{href:"/login",className:"hover:text-blue-200 transition-colors",onClick:x,children:"ログイン"}),(0,r.jsx)(o(),{href:"/register",className:"bg-white text-blue-600 px-4 py-2 rounded-lg hover:bg-blue-50 transition-colors font-medium inline-block text-center",onClick:x,children:"新規登録"})]})]})})]}),(t||i)&&(0,r.jsx)("div",{className:"fixed inset-0 z-40",onClick:x})]})}function d(){return(0,r.jsx)("footer",{className:"bg-secondary-dark py-6 text-center",children:(0,r.jsx)("div",{className:"container mx-auto px-4",children:(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["\xa9 ",new Date().getFullYear()," 省エネ計算サービス. All rights reserved."]})})})}function x(e){let{children:s}=e;return(0,r.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,r.jsx)(i,{}),(0,r.jsx)("main",{className:"flex-grow container mx-auto px-4 py-8",children:s}),(0,r.jsx)(d,{})]})}},1047:function(e,s,t){"use strict";var r=t(5893),l=t(9583);s.ZP=e=>{let{size:s="medium",message:t="読み込み中..."}=e;return(0,r.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(l.fCD,{className:"animate-spin text-blue-600 mx-auto mb-4 ".concat({small:"text-lg",medium:"text-2xl",large:"text-4xl"}[s])}),(0,r.jsx)("p",{className:"text-gray-600",children:t})]})})}},6651:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return d}});var r=t(5893),l=t(7294),a=t(8998),n=t(1047),o=t(3522),c=t(3718),i=t(9583);function d(){let[e,s]=(0,l.useState)("power"),[t,d]=(0,l.useState)(!1),[x,u]=(0,l.useState)(""),[m,h]=(0,l.useState)({voltage:"",current:"",power_factor:1,is_three_phase:!1}),[g,b]=(0,l.useState)(null),[p,f]=(0,l.useState)({power_kw:"",power_w:"",duration_hours:""}),[j,y]=(0,l.useState)(null),[N,v]=(0,l.useState)({energy_kwh:"",tariff_per_kwh:25,fixed_cost:0,tax_rate:.1}),[w,_]=(0,l.useState)(null),[k,C]=(0,l.useState)([{name:"",power_kw:"",usage_hours:"",quantity:1}]),[F,E]=(0,l.useState)(null),S=async()=>{d(!0),u("");try{if(!m.voltage||!m.current)throw Error("電圧と電流を入力してください");let e=await (0,c.Nv)(()=>c.Cw.calculatePower(m),"Power Calculation");e.success?b(e.data):u(e.error)}catch(e){u(e.message)}finally{d(!1)}},W=async()=>{d(!0),u("");try{if(!p.power_kw&&!p.power_w||!p.duration_hours)throw Error("電力と時間を入力してください");let e={...p};p.power_kw?e.power_kw=parseFloat(p.power_kw):e.power_w=parseFloat(p.power_w),e.duration_hours=parseFloat(p.duration_hours);let s=await (0,c.Nv)(()=>c.Cw.calculateEnergy(e),"Energy Calculation");s.success?y(s.data):u(s.error)}catch(e){u(e.message)}finally{d(!1)}},P=async()=>{d(!0),u("");try{if(!N.energy_kwh)throw Error("エネルギー消費量を入力してください");let e={energy_kwh:parseFloat(N.energy_kwh),tariff_per_kwh:parseFloat(N.tariff_per_kwh),fixed_cost:parseFloat(N.fixed_cost),tax_rate:parseFloat(N.tax_rate)},s=await (0,c.Nv)(()=>c.Cw.calculateCost(e),"Cost Calculation");s.success?_(s.data):u(s.error)}catch(e){u(e.message)}finally{d(!1)}},O=async()=>{d(!0),u("");try{let e=k.filter(e=>e.name&&e.power_kw&&e.usage_hours).map(e=>({...e,power_kw:parseFloat(e.power_kw),usage_hours:parseFloat(e.usage_hours),quantity:parseInt(e.quantity)||1}));if(0===e.length)throw Error("機器情報を入力してください");let s=await (0,c.Nv)(()=>c.Cw.aggregateDevices({devices:e}),"Device Aggregation");s.success?E(s.data):u(s.error)}catch(e){u(e.message)}finally{d(!1)}},T=e=>{C(s=>s.filter((s,t)=>t!==e))},Z=(e,s,t)=>{let r=[...k];r[e][s]=t,C(r)},q=e=>{navigator.clipboard.writeText(e).then(()=>{})},L=[{id:"power",name:"電力計算",icon:i.LkT},{id:"energy",name:"エネルギー計算",icon:i.T_s},{id:"cost",name:"コスト計算",icon:i.rU2},{id:"devices",name:"機器集計",icon:i.wEH}];return(0,r.jsx)(a.Z,{children:(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 py-8",children:(0,r.jsx)("div",{className:"container mx-auto px-4",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("div",{className:"flex justify-center mb-4",children:(0,r.jsx)("div",{className:"bg-blue-100 p-4 rounded-full",children:(0,r.jsx)(i.LkT,{className:"text-3xl text-blue-600"})})}),(0,r.jsx)("h1",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"エネルギー計算ツール"}),(0,r.jsx)("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"電力、エネルギー消費量、コストの計算と機器使用量の集計が行えます"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg mb-8",children:[(0,r.jsx)("div",{className:"flex border-b border-gray-200",children:L.map(t=>(0,r.jsxs)("button",{onClick:()=>s(t.id),className:"flex items-center px-6 py-4 font-medium transition-colors ".concat(e===t.id?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[(0,r.jsx)(t.icon,{className:"mr-2"}),t.name]},t.id))}),(0,r.jsxs)("div",{className:"p-6",children:[x&&(0,r.jsx)(o.ZP,{message:x}),"power"===e&&(0,r.jsxs)("div",{className:"grid lg:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-bold mb-4",children:"電力計算"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"電圧 (V) *"}),(0,r.jsx)("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:m.voltage,onChange:e=>h(s=>({...s,voltage:e.target.value})),placeholder:"100"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"電流 (A) *"}),(0,r.jsx)("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:m.current,onChange:e=>h(s=>({...s,current:e.target.value})),placeholder:"10"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"力率"}),(0,r.jsx)("input",{type:"number",step:"0.01",min:"0",max:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:m.power_factor,onChange:e=>h(s=>({...s,power_factor:parseFloat(e.target.value)}))})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"three-phase",checked:m.is_three_phase,onChange:e=>h(s=>({...s,is_three_phase:e.target.checked})),className:"mr-2"}),(0,r.jsx)("label",{htmlFor:"three-phase",className:"text-sm font-medium text-gray-700",children:"三相電力"})]}),(0,r.jsx)("button",{onClick:S,disabled:t,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-bold py-3 px-4 rounded-lg transition-colors",children:t?(0,r.jsx)(n.ZP,{}):"計算実行"})]})]}),g&&(0,r.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg",children:[(0,r.jsx)("h4",{className:"text-lg font-bold mb-4",children:"計算結果"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"font-medium",children:"電力 (W):"}),(0,r.jsxs)("span",{className:"font-mono text-lg",children:[g.power_w.toFixed(2)," W"]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"font-medium",children:"電力 (kW):"}),(0,r.jsxs)("span",{className:"font-mono text-lg",children:[g.power_kw.toFixed(3)," kW"]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"計算式:"}),(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:[g.is_three_phase?"√3 \xd7 ":"","V \xd7 I \xd7 cosφ"]})]}),(0,r.jsxs)("button",{onClick:()=>q("電力: ".concat(g.power_w.toFixed(2)," W (").concat(g.power_kw.toFixed(3)," kW)")),className:"w-full mt-3 bg-gray-600 hover:bg-gray-700 text-white py-2 px-4 rounded-lg text-sm flex items-center justify-center",children:[(0,r.jsx)(i.esY,{className:"mr-2"}),"結果をコピー"]})]})]})]}),"energy"===e&&(0,r.jsxs)("div",{className:"grid lg:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-bold mb-4",children:"エネルギー計算"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"電力入力方式"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"kW単位"}),(0,r.jsx)("input",{type:"number",step:"0.001",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:p.power_kw,onChange:e=>f(s=>({...s,power_kw:e.target.value,power_w:""})),placeholder:"2.5"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"W単位"}),(0,r.jsx)("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:p.power_w,onChange:e=>f(s=>({...s,power_w:e.target.value,power_kw:""})),placeholder:"2500"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"使用時間 (h) *"}),(0,r.jsx)("input",{type:"number",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:p.duration_hours,onChange:e=>f(s=>({...s,duration_hours:e.target.value})),placeholder:"8"})]}),(0,r.jsx)("button",{onClick:W,disabled:t,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-bold py-3 px-4 rounded-lg transition-colors",children:t?(0,r.jsx)(n.ZP,{}):"計算実行"})]})]}),j&&(0,r.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg",children:[(0,r.jsx)("h4",{className:"text-lg font-bold mb-4",children:"計算結果"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"font-medium",children:"エネルギー消費量:"}),(0,r.jsxs)("span",{className:"font-mono text-lg",children:[j.energy_kwh.toFixed(2)," kWh"]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"使用電力:"}),(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:[j.power_kw.toFixed(3)," kW"]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"使用時間:"}),(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:[j.duration_hours," h"]})]}),(0,r.jsxs)("button",{onClick:()=>q("エネルギー消費量: ".concat(j.energy_kwh.toFixed(2)," kWh")),className:"w-full mt-3 bg-gray-600 hover:bg-gray-700 text-white py-2 px-4 rounded-lg text-sm flex items-center justify-center",children:[(0,r.jsx)(i.esY,{className:"mr-2"}),"結果をコピー"]})]})]})]}),"cost"===e&&(0,r.jsxs)("div",{className:"grid lg:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-bold mb-4",children:"コスト計算"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"エネルギー消費量 (kWh) *"}),(0,r.jsx)("input",{type:"number",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:N.energy_kwh,onChange:e=>v(s=>({...s,energy_kwh:e.target.value})),placeholder:"100"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"電力料金単価 (円/kWh)"}),(0,r.jsx)("input",{type:"number",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:N.tariff_per_kwh,onChange:e=>v(s=>({...s,tariff_per_kwh:e.target.value}))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"固定費 (円)"}),(0,r.jsx)("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:N.fixed_cost,onChange:e=>v(s=>({...s,fixed_cost:e.target.value}))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"税率"}),(0,r.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:N.tax_rate,onChange:e=>v(s=>({...s,tax_rate:parseFloat(e.target.value)})),children:[(0,r.jsx)("option",{value:0,children:"0% (税抜き)"}),(0,r.jsx)("option",{value:.08,children:"8%"}),(0,r.jsx)("option",{value:.1,children:"10%"})]})]}),(0,r.jsx)("button",{onClick:P,disabled:t,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-bold py-3 px-4 rounded-lg transition-colors",children:t?(0,r.jsx)(n.ZP,{}):"計算実行"})]})]}),w&&(0,r.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg",children:[(0,r.jsx)("h4",{className:"text-lg font-bold mb-4",children:"計算結果"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex justify-between border-b pb-2",children:[(0,r.jsx)("span",{className:"font-medium text-lg",children:"総額:"}),(0,r.jsxs)("span",{className:"font-mono text-xl text-blue-600",children:[Math.round(w.total_cost).toLocaleString()," 円"]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"電力料金:"}),(0,r.jsxs)("span",{className:"text-sm",children:[Math.round(w.energy_cost).toLocaleString()," 円"]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"固定費:"}),(0,r.jsxs)("span",{className:"text-sm",children:[Math.round(w.fixed_cost).toLocaleString()," 円"]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"税額:"}),(0,r.jsxs)("span",{className:"text-sm",children:[Math.round(w.tax_amount).toLocaleString()," 円"]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"単価:"}),(0,r.jsxs)("span",{className:"text-sm",children:[w.tariff_per_kwh," 円/kWh"]})]}),(0,r.jsxs)("button",{onClick:()=>q("総額: ".concat(Math.round(w.total_cost).toLocaleString()," 円")),className:"w-full mt-3 bg-gray-600 hover:bg-gray-700 text-white py-2 px-4 rounded-lg text-sm flex items-center justify-center",children:[(0,r.jsx)(i.esY,{className:"mr-2"}),"結果をコピー"]})]})]})]}),"devices"===e&&(0,r.jsxs)("div",{className:"grid lg:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-bold mb-4",children:"機器使用量集計"}),(0,r.jsxs)("div",{className:"space-y-4",children:[k.map((e,s)=>(0,r.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[(0,r.jsx)("input",{type:"text",placeholder:"機器名",className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:e.name,onChange:e=>Z(s,"name",e.target.value)}),(0,r.jsx)("input",{type:"number",step:"0.001",placeholder:"電力 (kW)",className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:e.power_kw,onChange:e=>Z(s,"power_kw",e.target.value)})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsx)("input",{type:"number",step:"0.1",placeholder:"使用時間 (h)",className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:e.usage_hours,onChange:e=>Z(s,"usage_hours",e.target.value)}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"number",min:"1",placeholder:"台数",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:e.quantity,onChange:e=>Z(s,"quantity",e.target.value)}),k.length>1&&(0,r.jsx)("button",{onClick:()=>T(s),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:(0,r.jsx)(i.Xm5,{})})]})]})]},s)),(0,r.jsxs)("button",{onClick:()=>{C(e=>[...e,{name:"",power_kw:"",usage_hours:"",quantity:1}])},className:"flex items-center text-blue-600 hover:text-blue-800",children:[(0,r.jsx)(i.wEH,{className:"mr-2"}),"機器を追加"]}),(0,r.jsx)("button",{onClick:O,disabled:t,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-bold py-3 px-4 rounded-lg transition-colors",children:t?(0,r.jsx)(n.ZP,{}):"集計実行"})]})]}),F&&(0,r.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg",children:[(0,r.jsx)("h4",{className:"text-lg font-bold mb-4",children:"集計結果"}),(0,r.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,r.jsxs)("div",{className:"flex justify-between border-b pb-2",children:[(0,r.jsx)("span",{className:"font-medium",children:"総エネルギー:"}),(0,r.jsxs)("span",{className:"font-mono text-lg text-blue-600",children:[F.total_energy_kwh.toFixed(2)," kWh"]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"総電力:"}),(0,r.jsxs)("span",{className:"text-sm",children:[F.total_power_kw.toFixed(2)," kW"]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"総機器数:"}),(0,r.jsxs)("span",{className:"text-sm",children:[F.device_count," 台"]})]})]}),(0,r.jsxs)("div",{className:"max-h-60 overflow-y-auto",children:[(0,r.jsx)("h5",{className:"font-medium mb-2",children:"機器別内訳"}),F.devices.map((e,s)=>(0,r.jsxs)("div",{className:"text-xs bg-white p-2 rounded mb-1",children:[(0,r.jsx)("div",{className:"font-medium",children:e.name}),(0,r.jsxs)("div",{className:"text-gray-600",children:[e.power_kw,"kW \xd7 ",e.usage_hours,"h \xd7 ",e.quantity,"台 = ",e.energy_kwh.toFixed(1),"kWh"]})]},s))]}),(0,r.jsxs)("button",{onClick:()=>q("総エネルギー: ".concat(F.total_energy_kwh.toFixed(2)," kWh")),className:"w-full mt-3 bg-gray-600 hover:bg-gray-700 text-white py-2 px-4 rounded-lg text-sm flex items-center justify-center",children:[(0,r.jsx)(i.esY,{className:"mr-2"}),"結果をコピー"]})]})]})]})]})]})})})})}},8357:function(e,s,t){"use strict";t.d(s,{w_:function(){return c}});var r=t(7294),l={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=r.createContext&&r.createContext(l),n=function(){return(n=Object.assign||function(e){for(var s,t=1,r=arguments.length;t<r;t++)for(var l in s=arguments[t])Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l]);return e}).apply(this,arguments)},o=function(e,s){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>s.indexOf(r)&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,r=Object.getOwnPropertySymbols(e);l<r.length;l++)0>s.indexOf(r[l])&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(t[r[l]]=e[r[l]]);return t};function c(e){return function(s){return r.createElement(i,n({attr:n({},e.attr)},s),function e(s){return s&&s.map(function(s,t){return r.createElement(s.tag,n({key:t},s.attr),e(s.child))})}(e.child))}}function i(e){var s=function(s){var t,l=e.attr,a=e.size,c=e.title,i=o(e,["attr","size","title"]),d=a||s.size||"1em";return s.className&&(t=s.className),e.className&&(t=(t?t+" ":"")+e.className),r.createElement("svg",n({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,l,i,{className:t,style:n(n({color:e.color||s.color},s.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),c&&r.createElement("title",null,c),e.children)};return void 0!==a?r.createElement(a.Consumer,null,function(e){return s(e)}):s(l)}}},function(e){e.O(0,[445,664,774,888,179],function(){return e(e.s=3728)}),_N_E=e.O()}]);