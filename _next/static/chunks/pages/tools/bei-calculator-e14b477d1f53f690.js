(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[120],{3936:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tools/bei-calculator",function(){return s(9410)}])},8998:function(e,t,s){"use strict";s.d(t,{Z:function(){return m}});var l=s(5893),r=s(7294),a=s(4436),n=s(1664),i=s.n(n),c=s(9583);function o(){let{isAuthenticated:e,logout:t}=(0,a.aC)(),[s,n]=(0,r.useState)(!1),[o,d]=(0,r.useState)(!1),m=()=>{n(!1),d(!1)};return(0,l.jsxs)("header",{className:"bg-gradient-to-r from-blue-600 to-green-600 text-white shadow-lg",children:[(0,l.jsxs)("div",{className:"container mx-auto px-4 py-4",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)(i(),{href:"/",className:"text-xl font-bold hover:text-blue-200 transition-colors",children:"エネルギー計算サービス"}),(0,l.jsxs)("nav",{className:"hidden md:flex items-center space-x-6",children:[e&&(0,l.jsx)("li",{className:"list-none",children:(0,l.jsx)(i(),{href:"/projects",className:"hover:text-blue-200 transition-colors",children:"プロジェクト"})}),(0,l.jsxs)("li",{className:"relative list-none",children:[(0,l.jsxs)("button",{onClick:()=>{n(!s)},className:"flex items-center hover:text-blue-200 transition-colors",children:[(0,l.jsx)(c.T_s,{className:"mr-2"}),"計算ツール",(0,l.jsx)(c.RiI,{className:"ml-1 text-sm"})]}),s&&(0,l.jsxs)("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg py-2 z-50",children:[(0,l.jsx)(i(),{href:"/tools/bei-calculator",className:"block px-4 py-2 text-gray-800 hover:bg-blue-50 hover:text-blue-600 transition-colors",onClick:m,children:"BEI計算"}),(0,l.jsx)(i(),{href:"/tools/energy-calculator",className:"block px-4 py-2 text-gray-800 hover:bg-blue-50 hover:text-blue-600 transition-colors",onClick:m,children:"エネルギー計算"}),(0,l.jsx)(i(),{href:"/tools/tariff-calculator",className:"block px-4 py-2 text-gray-800 hover:bg-blue-50 hover:text-blue-600 transition-colors",onClick:m,children:"電力料金見積もり"})]})]}),e?(0,l.jsx)("li",{className:"list-none",children:(0,l.jsxs)("button",{onClick:t,className:"flex items-center hover:text-blue-200 transition-colors",children:[(0,l.jsx)(c.fHX,{className:"mr-2"}),"ログアウト"]})}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("li",{className:"list-none",children:(0,l.jsx)(i(),{href:"/login",className:"hover:text-blue-200 transition-colors",children:"ログイン"})}),(0,l.jsx)("li",{className:"list-none",children:(0,l.jsx)(i(),{href:"/register",className:"bg-white text-blue-600 px-4 py-2 rounded-lg hover:bg-blue-50 transition-colors font-medium",children:"新規登録"})})]})]}),(0,l.jsx)("button",{onClick:()=>d(!o),className:"md:hidden text-2xl",children:o?(0,l.jsx)(c.aHS,{}):(0,l.jsx)(c.Fm7,{})})]}),o&&(0,l.jsx)("nav",{className:"md:hidden mt-4 pb-4 border-t border-blue-500 pt-4",children:(0,l.jsxs)("div",{className:"flex flex-col space-y-3",children:[e&&(0,l.jsx)(i(),{href:"/projects",className:"hover:text-blue-200 transition-colors",onClick:m,children:"プロジェクト"}),(0,l.jsxs)("div",{className:"border-l-4 border-blue-400 pl-4",children:[(0,l.jsx)("div",{className:"text-blue-200 font-medium mb-2",children:"計算ツール"}),(0,l.jsxs)("div",{className:"flex flex-col space-y-2 ml-2",children:[(0,l.jsx)(i(),{href:"/tools/bei-calculator",className:"text-sm hover:text-blue-200 transition-colors",onClick:m,children:"BEI計算"}),(0,l.jsx)(i(),{href:"/tools/energy-calculator",className:"text-sm hover:text-blue-200 transition-colors",onClick:m,children:"エネルギー計算"}),(0,l.jsx)(i(),{href:"/tools/tariff-calculator",className:"text-sm hover:text-blue-200 transition-colors",onClick:m,children:"電力料金見積もり"})]})]}),e?(0,l.jsxs)("button",{onClick:()=>{t(),m()},className:"flex items-center hover:text-blue-200 transition-colors text-left",children:[(0,l.jsx)(c.fHX,{className:"mr-2"}),"ログアウト"]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i(),{href:"/login",className:"hover:text-blue-200 transition-colors",onClick:m,children:"ログイン"}),(0,l.jsx)(i(),{href:"/register",className:"bg-white text-blue-600 px-4 py-2 rounded-lg hover:bg-blue-50 transition-colors font-medium inline-block text-center",onClick:m,children:"新規登録"})]})]})})]}),(s||o)&&(0,l.jsx)("div",{className:"fixed inset-0 z-40",onClick:m})]})}function d(){return(0,l.jsx)("footer",{className:"bg-secondary-dark py-6 text-center",children:(0,l.jsx)("div",{className:"container mx-auto px-4",children:(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["\xa9 ",new Date().getFullYear()," 省エネ計算サービス. All rights reserved."]})})})}function m(e){let{children:t}=e;return(0,l.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,l.jsx)(o,{}),(0,l.jsx)("main",{className:"flex-grow container mx-auto px-4 py-8",children:t}),(0,l.jsx)(d,{})]})}},9410:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return H}});var l=s(5893),r=s(7294),a=s(9583),n=s(1664),i=s.n(n),c=s(8998);function o(e){let{children:t,title:s,subtitle:r,icon:n,backUrl:o="/",backText:d="ホームに戻る"}=e;return(0,l.jsx)(c.Z,{children:(0,l.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 py-8",children:(0,l.jsxs)("div",{className:"container mx-auto px-4",children:[(0,l.jsx)("div",{className:"max-w-6xl mx-auto mb-4",children:(0,l.jsxs)(i(),{href:o,className:"inline-flex items-center text-gray-600 hover:text-blue-600 transition-colors",children:[(0,l.jsx)(a.x_l,{className:"mr-2"}),d]})}),(0,l.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,l.jsxs)("div",{className:"text-center mb-8",children:[n&&(0,l.jsx)("div",{className:"flex justify-center mb-4",children:(0,l.jsx)("div",{className:"bg-blue-100 p-4 rounded-full",children:(0,l.jsx)(n,{className:"text-3xl text-blue-600"})})}),(0,l.jsx)("h1",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:s}),r&&(0,l.jsx)("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:r})]}),t]})]})})})}function d(e){let{title:t,icon:s,children:a,className:n="",collapsible:i=!1,defaultExpanded:c=!0}=e,[o,d]=r.useState(c);return(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 ".concat(n),children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,l.jsxs)("h2",{className:"text-2xl font-bold flex items-center",children:[s&&(0,l.jsx)(s,{className:"mr-3 text-blue-600"}),t]}),i&&(0,l.jsx)("button",{onClick:()=>d(!o),className:"p-2 text-gray-600 hover:text-blue-600 rounded-lg transition-colors",children:o?"▼":"▶"})]}),(!i||o)&&(0,l.jsx)("div",{className:"space-y-6",children:a})]})}function m(e){let{title:t,icon:s,children:r,onCopy:n,onDownload:i,onShare:c,className:o=""}=e;return(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 ".concat(o),children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsxs)("h3",{className:"text-xl font-bold flex items-center",children:[s&&(0,l.jsx)(s,{className:"mr-3 text-green-600"}),t]}),(0,l.jsxs)("div",{className:"flex space-x-2",children:[n&&(0,l.jsx)("button",{onClick:n,className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"結果をコピー",children:(0,l.jsx)(a.esY,{})}),i&&(0,l.jsx)("button",{onClick:i,className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"ダウンロード",children:(0,l.jsx)(a.aBF,{})}),c&&(0,l.jsx)("button",{onClick:c,className:"p-2 text-gray-600 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"シェア",children:(0,l.jsx)(a.Lrt,{})})]})]}),r]})}function x(e){let{title:t,children:s,className:n=""}=e,[i,c]=(0,r.useState)(!1);return(0,l.jsxs)("div",{className:"relative inline-block ".concat(n),children:[(0,l.jsx)("button",{onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onClick:()=>c(!i),className:"text-blue-500 hover:text-blue-700 transition-colors",type:"button",children:(0,l.jsx)(a.MXt,{className:"text-sm"})}),i&&(0,l.jsx)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 z-50",children:(0,l.jsxs)("div",{className:"bg-gray-900 text-white text-sm rounded-lg p-3 shadow-lg max-w-xs",children:[(0,l.jsx)("div",{className:"font-medium mb-1",children:t}),(0,l.jsx)("div",{className:"text-gray-200",children:s}),(0,l.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2",children:(0,l.jsx)("div",{className:"w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})})]})})]})}let g=[{zone:1,name:"1地域（寒冷地）",description:"北海道（旭川、帯広、釧路等）",characteristics:"厳寒地域。暖房負荷が非常に大きく、断熱性能が最重要。",cities:["旭川市","帯広市","釧路市","北見市","稚内市","根室市"]},{zone:2,name:"2地域（寒冷地）",description:"北海道（札幌、函館等）、青森、岩手等",characteristics:"寒冷地域。暖房負荷が大きく、高い断熱性能が必要。",cities:["札幌市","函館市","青森市","盛岡市","秋田市","山形市"]},{zone:3,name:"3地域（やや寒冷地）",description:"宮城、山形、福島、栃木、新潟等",characteristics:"やや寒冷地域。暖房・冷房の両方を考慮した設計が必要。",cities:["仙台市","郡山市","宇都宮市","新潟市","長野市","前橋市"]},{zone:4,name:"4地域（温暖地）",description:"茨城、群馬、埼玉、千葉、東京、神奈川等",characteristics:"温暖地域。暖房・冷房負荷がバランスよく分散。",cities:["東京23区","横浜市","さいたま市","千葉市","水戸市","川越市"]},{zone:5,name:"5地域（やや温暖地）",description:"新潟、富山、石川、長野、岐阜等",characteristics:"やや温暖地域。冷房負荷がやや増加。湿度対策も重要。",cities:["金沢市","富山市","岐阜市","甲府市","福井市","松本市"]},{zone:6,name:"6地域（温暖地）",description:"愛知、三重、滋賀、京都、大阪、兵庫等",characteristics:"温暖地域。冷房負荷が暖房負荷より大きくなる傾向。",cities:["名古屋市","大阪市","京都市","神戸市","奈良市","津市"]},{zone:7,name:"7地域（暖地）",description:"和歌山、鳥取、島根、岡山、広島等",characteristics:"暖地。冷房負荷が支配的。遮熱・日射制御が重要。",cities:["広島市","岡山市","松江市","鳥取市","和歌山市","徳島市"]},{zone:8,name:"8地域（暖地）",description:"沖縄県",characteristics:"亜熱帯地域。冷房負荷が極めて大きく、暖房はほぼ不要。",cities:["那覇市","沖縄市","宜野湾市","浦添市","名護市","糸満市"]}];function h(e){let{value:t,onChange:s,className:n=""}=e,[i,c]=(0,r.useState)(!1),o=g.find(e=>e.zone===t);return(0,l.jsxs)("div",{className:"space-y-4 ".concat(n),children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"地域区分"}),(0,l.jsx)(x,{title:"地域区分とは？",children:"建築物省エネ法で定められた8つの地域区分です。 気候特性に応じて暖房・冷房の基準値が設定されています。 お住まいの都道府県・市町村から該当する地域を選択してください。"})]}),(0,l.jsx)("div",{className:"relative",children:(0,l.jsxs)("select",{value:t||"",onChange:e=>s(parseInt(e.target.value)),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none bg-white",required:!0,children:[(0,l.jsx)("option",{value:"",children:"地域区分を選択してください"}),g.map(e=>(0,l.jsxs)("option",{value:e.zone,children:[e.name," - ",e.description]},e.zone))]})}),o&&(0,l.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,l.jsx)(a.Nh4,{className:"text-blue-600 mt-1 flex-shrink-0"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-medium text-blue-800 mb-2",children:o.name}),(0,l.jsx)("p",{className:"text-sm text-blue-700 mb-2",children:o.characteristics}),(0,l.jsxs)("div",{className:"text-xs text-blue-600",children:[(0,l.jsx)("strong",{children:"主要都市例:"})," ",o.cities.join(", ")]})]})]})}),(0,l.jsx)("div",{className:"flex justify-center",children:(0,l.jsxs)("button",{type:"button",onClick:()=>c(!i),className:"text-sm text-blue-600 hover:text-blue-800 underline flex items-center space-x-1",children:[(0,l.jsx)(a.Nh4,{}),(0,l.jsx)("span",{children:i?"地域マップを閉じる":"地域マップで確認"})]})}),i&&(0,l.jsx)("div",{className:"bg-gray-50 border rounded-lg p-4",children:(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:g.map(e=>(0,l.jsxs)("div",{className:"p-3 rounded border cursor-pointer transition-colors ".concat((null==o?void 0:o.zone)===e.zone?"bg-blue-100 border-blue-300":"bg-white border-gray-200 hover:bg-gray-50"),onClick:()=>s(e.zone),children:[(0,l.jsx)("div",{className:"font-medium text-gray-800",children:e.name}),(0,l.jsx)("div",{className:"text-gray-600 text-xs mt-1",children:e.description})]},e.zone))})})]})}let u=[{id:"office",name:"事務所等",icon:a.m17,description:"オフィスビル、官公庁舎、銀行等",examples:["オフィスビル","官公庁舎","銀行","郵便局","事務所"],energyProfile:{heating:38,cooling:38,lighting:70,total:191},characteristics:"照明・OA機器の使用が多く、平日昼間の使用が中心。"},{id:"hotel",name:"ホテル等",icon:a.X2f,description:"宿泊施設、旅館、民宿等",examples:["ホテル","旅館","民宿","ペンション","ゲストハウス"],energyProfile:{heating:54,cooling:54,hot_water:176,total:396},characteristics:"24時間稼働で給湯負荷が非常に大きい。客室・共用部の空調が必要。"},{id:"hospital",name:"病院等",icon:a.dud,description:"病院、診療所、老人ホーム等",examples:["総合病院","診療所","老人ホーム","介護施設","リハビリ施設"],energyProfile:{heating:72,cooling:72,ventilation:89,total:521},characteristics:"24時間稼働、高い換気量要求。医療機器による電力消費も大きい。"},{id:"shop_department",name:"百貨店等",icon:a.KSn,description:"百貨店、大型商業施設等",examples:["百貨店","デパート","大型商業施設","ショッピングモール"],energyProfile:{heating:20,cooling:20,lighting:126,total:211},characteristics:"高い照明レベルが必要。営業時間中の空調・照明が中心。"},{id:"shop_supermarket",name:"スーパーマーケット",icon:a.KSn,description:"スーパー、コンビニ、小売店等",examples:["スーパーマーケット","コンビニエンスストア","小売店","ドラッグストア"],energyProfile:{heating:20,cooling:20,lighting:140,total:225},characteristics:"冷蔵・冷凍設備と高照度照明が特徴。長時間営業。"},{id:"school_small",name:"学校等（小中学校）",icon:a.VI,description:"小学校、中学校等",examples:["小学校","中学校","特別支援学校"],energyProfile:{heating:58,cooling:23,lighting:49,total:163},characteristics:"昼間のみ使用。暖房負荷が大きく、夏季休暇中は使用量減少。"},{id:"school_high",name:"学校等（高等学校）",icon:a.VI,description:"高等学校、高専等",examples:["高等学校","高等専門学校","専門学校"],energyProfile:{heating:58,cooling:30,lighting:49,total:170},characteristics:"小中学校より冷房使用が増加。実験・実習設備も含む。"},{id:"school_university",name:"学校等（大学）",icon:a.VI,description:"大学、研究所等",examples:["大学","短期大学","研究所","図書館"],energyProfile:{heating:43,cooling:30,lighting:49,total:167},characteristics:"研究設備・図書館等の特殊用途を含む。使用時間が多様。"},{id:"restaurant",name:"飲食店等",icon:a.yQ2,description:"レストラン、食堂、カフェ等",examples:["レストラン","食堂","カフェ","ファミレス","居酒屋"],energyProfile:{heating:54,cooling:54,ventilation:117,total:449},characteristics:"厨房からの高い排熱と換気負荷。給湯・調理機器の使用大。"},{id:"assembly",name:"集会所等",icon:a.I$,description:"集会所、体育館、劇場等",examples:["集会所","体育館","劇場","ホール","公民館"],energyProfile:{heating:38,cooling:38,lighting:70,total:205},characteristics:"間欠使用が多い。大空間の空調に特徴がある。"},{id:"factory",name:"工場等",icon:a.SjQ,description:"工場、作業場等",examples:["製造工場","作業場","倉庫","配送センター"],energyProfile:{heating:72,cooling:20,lighting:70,total:221},characteristics:"生産設備からの発熱で暖房負荷が大きい。作業環境維持が重要。"},{id:"residential_collective",name:"共同住宅",icon:a.xng,description:"マンション、アパート等",examples:["分譲マンション","賃貸マンション","アパート","団地"],energyProfile:{heating:38,cooling:38,hot_water:105,total:251},characteristics:"住宅用途。給湯負荷が大きく、個別空調が基本。"}];function b(e){let{value:t,onChange:s,className:a="",compact:n=!1}=e,[i,c]=(0,r.useState)(!1),o=u.find(e=>e.id===t);return n?(0,l.jsx)("div",{className:a,children:(0,l.jsxs)("select",{value:t||"",onChange:e=>s(e.target.value),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none bg-white text-sm",children:[(0,l.jsx)("option",{value:"",children:"選択してください"}),u.map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))]})}):(0,l.jsxs)("div",{className:"space-y-4 ".concat(a),children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"建物用途"}),(0,l.jsx)(x,{title:"モデル建物法とは？",children:"国土交通省告示で定められた標準的な建物用途です。 各用途ごとに標準的なエネルギー消費量原単位が設定されており、 これを基準として省エネ性能を評価します。"})]}),(0,l.jsx)("div",{className:"relative",children:(0,l.jsxs)("select",{value:t||"",onChange:e=>s(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none bg-white",required:!0,children:[(0,l.jsx)("option",{value:"",children:"建物用途を選択してください"}),u.map(e=>(0,l.jsxs)("option",{value:e.id,children:[e.name," - ",e.description]},e.id))]})}),o&&(0,l.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,l.jsx)(o.icon,{className:"text-green-600 text-xl mt-1 flex-shrink-0"}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h4",{className:"font-medium text-green-800 mb-2",children:o.name}),(0,l.jsx)("p",{className:"text-sm text-green-700 mb-2",children:o.characteristics}),(0,l.jsxs)("div",{className:"text-xs text-green-600 mb-3",children:[(0,l.jsx)("strong",{children:"該当例:"})," ",o.examples.join(", ")]}),(0,l.jsxs)("div",{className:"bg-white rounded p-3 border border-green-100",children:[(0,l.jsx)("div",{className:"text-xs font-medium text-green-800 mb-2",children:"基準エネルギー消費量原単位 (MJ/m\xb2年)"}),(0,l.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-xs",children:Object.entries(o.energyProfile).map(e=>{let[t,s]=e;return(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsxs)("div",{className:"text-gray-600",children:["heating"===t&&"暖房","cooling"===t&&"冷房","lighting"===t&&"照明","hot_water"===t&&"給湯","ventilation"===t&&"換気","total"===t&&"合計"]}),(0,l.jsx)("div",{className:"font-medium text-green-700",children:s})]},t)})})]})]})]})}),(0,l.jsx)("div",{className:"flex justify-center",children:(0,l.jsx)("button",{type:"button",onClick:()=>c(!i),className:"text-sm text-blue-600 hover:text-blue-800 underline",children:i?"用途一覧を閉じる":"全用途を比較表示"})}),i&&(0,l.jsx)("div",{className:"bg-gray-50 border rounded-lg p-4",children:(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 text-sm",children:u.map(e=>(0,l.jsxs)("div",{className:"p-3 rounded border cursor-pointer transition-colors ".concat((null==o?void 0:o.id)===e.id?"bg-green-100 border-green-300":"bg-white border-gray-200 hover:bg-gray-50"),onClick:()=>s(e.id),children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,l.jsx)(e.icon,{className:"text-blue-600 flex-shrink-0"}),(0,l.jsx)("div",{className:"font-medium text-gray-800",children:e.name})]}),(0,l.jsx)("div",{className:"text-gray-600 text-xs",children:e.description}),(0,l.jsxs)("div",{className:"text-gray-500 text-xs mt-1",children:["合計: ",e.energyProfile.total," MJ/m\xb2年"]})]},e.id))})})]})}let p=(e,t,s)=>{var l,r,a,n,i,c,o,d,m;if(!e||!t)throw Error("計算結果またはフォームデータがありません");let x=e=>({heating:"暖房",cooling:"冷房",ventilation:"機械換気",hot_water:"給湯",lighting:"照明",elevator:"昇降機"})[e]||e,g=[];g.push(["建築物省エネルギー法　適合性判定申請書"]),g.push(["モデル建物法による一次エネルギー消費量計算書"]),g.push([""]),g.push(["作成日",new Date().toLocaleDateString("ja-JP")]),g.push([""]),s&&(g.push(["■ プロジェクト情報"]),g.push(["プロジェクト名",s.name||""]),g.push(["建築主",s.buildingOwner||""]),g.push(["設計者",s.designer||""]),g.push(["設計事務所",s.designFirm||""]),g.push(["所在地",s.location||""]),s.description&&g.push(["概要",s.description]),g.push([""])),g.push(["■ 1. 建物概要"]),g.push(["項目","値"]),g.push(["建物用途",{office:"事務所等",hotel:"ホテル等",hospital:"病院等",shop_department:"百貨店等",shop_supermarket:"スーパーマーケット",school_small:"学校等（小中学校）",school_high:"学校等（高等学校）",school_university:"学校等（大学）",restaurant:"飲食店等",assembly:"集会所等",factory:"工場等",residential_collective:"共同住宅"}[m=t.building_type]||m]),g.push(["地域区分","".concat(t.climate_zone,"地域")]),g.push(["延床面積","".concat(Number(t.floor_area||e.building_area_m2).toLocaleString()," m\xb2")]),g.push(["再エネ控除","".concat(Number(t.renewable_energy||e.renewable_deduction_mj||0).toLocaleString()," MJ/年")]),g.push([""]),g.push(["■ 2. BEI計算結果"]),g.push(["項目","値"]),g.push(["設計一次エネルギー消費量","".concat(null===(l=e.design_primary_energy_mj)||void 0===l?void 0:l.toLocaleString()," MJ/年")]),g.push(["基準一次エネルギー消費量","".concat(null===(r=e.standard_primary_energy_mj)||void 0===r?void 0:r.toLocaleString()," MJ/年")]),g.push(["BEI値",e.bei]),g.push(["適合判定",e.is_compliant?"適合":"不適合"]),g.push([""]),g.push(["■ 計算式"]),g.push(["BEI = 設計一次エネルギー消費量 \xf7 基準一次エネルギー消費量"]),g.push(["= ".concat(null===(a=e.design_primary_energy_mj)||void 0===a?void 0:a.toLocaleString()," \xf7 ").concat(null===(n=e.standard_primary_energy_mj)||void 0===n?void 0:n.toLocaleString())]),g.push(["= ".concat(e.bei)]),g.push(["※ BEI ≤ 1.0 で省エネ基準適合"]),g.push([""]),g.push(["■ 3. 設計一次エネルギー消費量内訳"]),g.push(["用途","消費量 (MJ/年)","単位面積あたり (MJ/m\xb2年)"]),e.design_energy_breakdown&&e.design_energy_breakdown.forEach(s=>{var l;let r=s.primary_energy_mj/(t.floor_area||e.building_area_m2);g.push([x(s.category),null===(l=s.primary_energy_mj)||void 0===l?void 0:l.toLocaleString(),null==r?void 0:r.toFixed(1)])}),g.push(["合計",null===(i=e.design_primary_energy_mj)||void 0===i?void 0:i.toLocaleString(),null===(c=e.design_energy_per_m2)||void 0===c?void 0:c.toFixed(1)]),g.push([""]),g.push(["■ 4. 基準一次エネルギー消費量算定"]),g.push(["基準エネルギー消費量原単位合計","".concat(null===(o=e.standard_energy_per_m2)||void 0===o?void 0:o.toFixed(2)," MJ/m\xb2年")]),g.push(["延床面積","".concat(Number(t.floor_area||e.building_area_m2).toLocaleString()," m\xb2")]),g.push(["基準一次エネルギー消費量","".concat(null===(d=e.standard_primary_energy_mj)||void 0===d?void 0:d.toLocaleString()," MJ/年")]),g.push([""]),g.push(["■ 5. 法的根拠"]),g.push(["建築物のエネルギー消費性能の向上に関する法律（建築物省エネ法）"]),g.push(["国土交通省告示第1396号（平成28年1月29日）"]),g.push(["モデル建物法による標準入力法（平成28年国土交通省告示第265号）"]),g.push([""]),g.push(["■ 6. 注記"]),g.push(["本計算書は建築物省エネ法に基づくモデル建物法により算定"]),g.push(["地域区分: ".concat(t.climate_zone,"地域の補正係数を適用")]),g.push(["規模補正係数: 0.95（簡易計算）"]),e.notes&&e.notes.forEach(e=>{g.push([e])});let h=g.map(e=>e.map(e=>'"'.concat(String(e||"").replace(/"/g,'""'),'"')).join(",")).join("\n"),u=new Blob(["\uFEFF"+h],{type:"text/csv;charset=utf-8;"}),b=URL.createObjectURL(u),p=(null==s?void 0:s.name)?"".concat(s.name,"_BEI計算書_").concat(new Date().toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,""),".csv"):"BEI計算書_".concat(new Date().toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,""),".csv"),j=document.createElement("a");return j.href=b,j.download=p,j.click(),URL.revokeObjectURL(b),p},j=e=>({office:"事務所等",hotel:"ホテル等",hospital:"病院等",shop_department:"百貨店等",shop_supermarket:"スーパーマーケット",school_small:"学校等（小中学校）",school_high:"学校等（高等学校）",school_university:"学校等（大学）",restaurant:"飲食店等",assembly:"集会所等",factory:"工場等",residential_collective:"共同住宅"})[e]||e,v=e=>({heating:"暖房",cooling:"冷房",ventilation:"機械換気",hot_water:"給湯",lighting:"照明",elevator:"昇降機"})[e]||e,f=(e,t)=>{let s={office:{heating:38,cooling:38,ventilation:28,hot_water:3,lighting:70,elevator:14},hotel:{heating:54,cooling:54,ventilation:28,hot_water:176,lighting:70,elevator:14},hospital:{heating:72,cooling:72,ventilation:89,hot_water:176,lighting:98,elevator:14}},l={1:{heating:2.38,cooling:.66},2:{heating:2.01,cooling:.69},3:{heating:1.54,cooling:.86},4:{heating:1.16,cooling:.99},5:{heating:1.07,cooling:1.07},6:{heating:.84,cooling:1.15},7:{heating:.7,cooling:1.27},8:{heating:.36,cooling:1.35}},r=s[e]||s.office,a=l[parseInt(t)]||l[4];return{heating:{base:r.heating,factor:a.heating,corrected:r.heating*a.heating*.95},cooling:{base:r.cooling,factor:a.cooling,corrected:r.cooling*a.cooling*.95},ventilation:{base:r.ventilation,factor:1,corrected:.95*r.ventilation},hot_water:{base:r.hot_water,factor:1,corrected:.95*r.hot_water},lighting:{base:r.lighting,factor:1,corrected:.95*r.lighting},elevator:{base:r.elevator,factor:1,corrected:.95*r.elevator}}};function N(e){var t,s,r,n,i,c,o,d,m,x,g;let{result:h,formData:u,projectInfo:b,onDownload:N,onDownloadPDF:_}=e;if(!h||!u)return null;let y=f(u.building_type,u.climate_zone);return(0,l.jsx)("div",{className:"bg-white",children:(0,l.jsxs)("div",{id:"compliance-report",className:"border-2 border-gray-300 p-8 max-w-4xl mx-auto font-mono text-sm",children:[(0,l.jsxs)("div",{className:"border-b-2 border-black pb-4 mb-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start",children:[(0,l.jsxs)("div",{className:"text-left",children:[(0,l.jsx)("h1",{className:"text-xl font-bold mb-2",children:"建築物省エネルギー法　適合性判定申請書"}),(0,l.jsx)("h2",{className:"text-lg font-bold",children:"モデル建物法による一次エネルギー消費量計算書"})]}),(0,l.jsxs)("div",{className:"no-print flex flex-col items-end gap-2",children:[(0,l.jsxs)("div",{className:"flex flex-wrap justify-end gap-2",children:[(0,l.jsxs)("button",{onClick:()=>{try{p(h,u,b)}catch(e){alert("Excel出力エラー: ".concat(e.message))}},className:"bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-3 rounded-lg flex items-center space-x-2 text-xs",children:[(0,l.jsx)(a.GzT,{}),(0,l.jsx)("span",{children:"Excel"})]}),(0,l.jsxs)("button",{onClick:()=>{let e=document.getElementById("compliance-report").innerHTML,t=window.open("","_blank");t.document.write("\n      <!DOCTYPE html>\n      <html>\n        <head>\n          <title>BEI計算書</title>\n          <style>\n            body { font-family: 'MS PGothic', 'Yu Gothic', sans-serif; font-size: 12px; margin: 20px; line-height: 1.4; }\n            table { border-collapse: collapse; width: 100%; margin-bottom: 20px; }\n            th, td { border: 1px solid black; padding: 8px; vertical-align: top; }\n            th { background-color: #f0f0f0; font-weight: bold; }\n            .center { text-align: center; }\n            .right { text-align: right; }\n            .bold { font-weight: bold; }\n            .bg-green-50 { background-color: #f0fff0; }\n            .bg-red-50 { background-color: #fff0f0; }\n            .bg-yellow-50 { background-color: #fffff0; }\n            .bg-gray-50 { background-color: #f9f9f9; }\n            .bg-gray-100 { background-color: #f0f0f0; }\n            .text-lg { font-size: 14px; }\n            .text-xl { font-size: 16px; }\n            .font-bold { font-weight: bold; }\n            .mb-2 { margin-bottom: 8px; }\n            .mb-3 { margin-bottom: 12px; }\n            .mb-6 { margin-bottom: 24px; }\n            .mt-4 { margin-top: 16px; }\n            .p-3 { padding: 12px; }\n            .border { border: 1px solid #ccc; }\n            .rounded { border-radius: 4px; }\n            .space-y-1 > * + * { margin-top: 4px; }\n            .no-print { display: none !important; }\n            @media print {\n              body { margin: 0; }\n              .no-print { display: none !important; }\n              table { page-break-inside: avoid; }\n              h1, h2, h3 { page-break-after: avoid; }\n            }\n          </style>\n        </head>\n        <body>\n          ".concat(e,"\n        </body>\n      </html>\n    ")),t.document.close(),setTimeout(()=>{t.print(),t.close()},250)},className:"bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-3 rounded-lg flex items-center space-x-2 text-xs",children:[(0,l.jsx)(a.yRW,{}),(0,l.jsx)("span",{children:"PDF"})]}),(0,l.jsxs)("button",{onClick:N,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-3 rounded-lg flex items-center space-x-2 text-xs",children:[(0,l.jsx)(a.aBF,{}),(0,l.jsx)("span",{children:"JSON"})]})]}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"各種形式で出力"})]})]}),(0,l.jsx)("div",{className:"mt-4 text-right",children:(0,l.jsxs)("p",{children:["作成日: ",new Date().toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit"})]})})]}),(0,l.jsxs)("section",{className:"mb-6",children:[(0,l.jsxs)("h3",{className:"text-lg font-bold border-b border-black mb-3 flex items-center",children:[(0,l.jsx)(a.m17,{className:"mr-2"}),"1. プロジェクト・建物概要"]}),(0,l.jsx)("table",{className:"w-full border-collapse border border-black",children:(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"border border-black p-2 bg-gray-100 font-bold w-1/4",children:"プロジェクト名"}),(0,l.jsx)("td",{className:"border border-black p-2",colSpan:"3",children:(null==b?void 0:b.name)||"(未設定)"})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"border border-black p-2 bg-gray-100 font-bold",children:"所在地"}),(0,l.jsx)("td",{className:"border border-black p-2",colSpan:"3",children:(null==b?void 0:b.location)||"(未設定)"})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"border border-black p-2 bg-gray-100 font-bold",children:"建築主"}),(0,l.jsx)("td",{className:"border border-black p-2",children:(null==b?void 0:b.buildingOwner)||"(未設定)"}),(0,l.jsx)("td",{className:"border border-black p-2 bg-gray-100 font-bold w-1/4",children:"設計者"}),(0,l.jsx)("td",{className:"border border-black p-2",children:(null==b?void 0:b.designer)||"(未設定)"})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"border border-black p-2 bg-gray-100 font-bold",children:"建物用途"}),(0,l.jsx)("td",{className:"border border-black p-2",children:j(u.building_type)}),(0,l.jsx)("td",{className:"border border-black p-2 bg-gray-100 font-bold",children:"地域区分"}),(0,l.jsxs)("td",{className:"border border-black p-2",children:[u.climate_zone,"地域"]})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"border border-black p-2 bg-gray-100 font-bold",children:"延床面積"}),(0,l.jsxs)("td",{className:"border border-black p-2",children:[Number(u.floor_area||h.building_area_m2).toLocaleString()," m\xb2"]}),(0,l.jsx)("td",{className:"border border-black p-2 bg-gray-100 font-bold",children:"再エネ控除"}),(0,l.jsxs)("td",{className:"border border-black p-2",children:[Number(u.renewable_energy||h.renewable_deduction_mj||0).toLocaleString()," MJ/年"]})]})]})})]}),(0,l.jsxs)("section",{className:"mb-6",children:[(0,l.jsxs)("h3",{className:"text-lg font-bold border-b border-black mb-3 flex items-center",children:[(0,l.jsx)(a.NMh,{className:"mr-2"}),"2. BEI計算結果"]}),(0,l.jsx)("table",{className:"w-full border-collapse border border-black mb-4",children:(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"border border-black p-2 bg-gray-100 font-bold w-1/2",children:"設計一次エネルギー消費量"}),(0,l.jsxs)("td",{className:"border border-black p-2 text-right",children:[null===(t=h.design_primary_energy_mj)||void 0===t?void 0:t.toLocaleString()," MJ/年"]})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"border border-black p-2 bg-gray-100 font-bold",children:"基準一次エネルギー消費量"}),(0,l.jsxs)("td",{className:"border border-black p-2 text-right",children:[null===(s=h.standard_primary_energy_mj)||void 0===s?void 0:s.toLocaleString()," MJ/年"]})]}),(0,l.jsxs)("tr",{className:"bg-yellow-50",children:[(0,l.jsx)("td",{className:"border border-black p-2 font-bold",children:"BEI値"}),(0,l.jsx)("td",{className:"border border-black p-2 text-right font-bold text-lg",children:h.bei})]}),(0,l.jsxs)("tr",{className:h.is_compliant?"bg-green-50":"bg-red-50",children:[(0,l.jsx)("td",{className:"border border-black p-2 font-bold",children:"適合判定"}),(0,l.jsx)("td",{className:"border border-black p-2 text-right font-bold",children:h.is_compliant?"適合":"不適合"})]})]})}),(0,l.jsxs)("div",{className:"bg-gray-50 p-3 rounded border",children:[(0,l.jsx)("p",{className:"font-bold",children:"計算式:"}),(0,l.jsx)("p",{children:"BEI = 設計一次エネルギー消費量 \xf7 基準一次エネルギー消費量"}),(0,l.jsxs)("p",{children:["= ",null===(r=h.design_primary_energy_mj)||void 0===r?void 0:r.toLocaleString()," \xf7 ",null===(n=h.standard_primary_energy_mj)||void 0===n?void 0:n.toLocaleString()]}),(0,l.jsxs)("p",{children:["= ",(0,l.jsx)("strong",{children:h.bei})]}),(0,l.jsx)("p",{className:"mt-2 text-sm",children:"※ BEI ≤ 1.0 で省エネ基準適合"})]})]}),(0,l.jsxs)("section",{className:"mb-6",children:[(0,l.jsx)("h3",{className:"text-lg font-bold border-b border-black mb-3",children:"3. 設計一次エネルギー消費量内訳"}),(0,l.jsxs)("table",{className:"w-full border-collapse border border-black",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"bg-gray-100",children:[(0,l.jsx)("th",{className:"border border-black p-2",children:"用途"}),(0,l.jsx)("th",{className:"border border-black p-2",children:"消費量 (MJ/年)"}),(0,l.jsx)("th",{className:"border border-black p-2",children:"単位面積あたり (MJ/m\xb2年)"})]})}),(0,l.jsxs)("tbody",{children:[null===(i=h.design_energy_breakdown)||void 0===i?void 0:i.map((e,t)=>{var s;return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"border border-black p-2",children:v(e.category)}),(0,l.jsx)("td",{className:"border border-black p-2 text-right",children:null===(s=e.primary_energy_mj)||void 0===s?void 0:s.toLocaleString()}),(0,l.jsx)("td",{className:"border border-black p-2 text-right",children:(e.primary_energy_mj/(u.floor_area||h.building_area_m2)).toFixed(1)})]},t)}),(0,l.jsxs)("tr",{className:"bg-gray-100 font-bold",children:[(0,l.jsx)("td",{className:"border border-black p-2",children:"合計"}),(0,l.jsx)("td",{className:"border border-black p-2 text-right",children:null===(c=h.design_primary_energy_mj)||void 0===c?void 0:c.toLocaleString()}),(0,l.jsx)("td",{className:"border border-black p-2 text-right",children:null===(o=h.design_energy_per_m2)||void 0===o?void 0:o.toFixed(1)})]})]})]})]}),(0,l.jsxs)("section",{className:"mb-6",children:[(0,l.jsx)("h3",{className:"text-lg font-bold border-b border-black mb-3",children:"4. 基準一次エネルギー消費量算定"}),(0,l.jsx)("h4",{className:"text-base font-bold mb-2",children:"4.1 基準エネルギー消費量原単位 (MJ/m\xb2年)"}),(0,l.jsxs)("table",{className:"w-full border-collapse border border-black",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"bg-gray-100",children:[(0,l.jsx)("th",{className:"border border-black p-2",children:"用途"}),(0,l.jsx)("th",{className:"border border-black p-2",children:"基準値"}),(0,l.jsx)("th",{className:"border border-black p-2",children:"地域補正"}),(0,l.jsx)("th",{className:"border border-black p-2",children:"規模補正"}),(0,l.jsx)("th",{className:"border border-black p-2",children:"補正後"})]})}),(0,l.jsxs)("tbody",{children:[Object.entries(y).map(e=>{let[t,s]=e;return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"border border-black p-2",children:v(t)}),(0,l.jsx)("td",{className:"border border-black p-2 text-right",children:s.base}),(0,l.jsx)("td",{className:"border border-black p-2 text-right",children:s.factor}),(0,l.jsx)("td",{className:"border border-black p-2 text-right",children:"0.95"}),(0,l.jsx)("td",{className:"border border-black p-2 text-right font-bold",children:s.corrected.toFixed(2)})]},t)}),(0,l.jsxs)("tr",{className:"bg-gray-100 font-bold",children:[(0,l.jsx)("td",{className:"border border-black p-2",children:"合計"}),(0,l.jsx)("td",{className:"border border-black p-2 text-right",children:"-"}),(0,l.jsx)("td",{className:"border border-black p-2 text-right",children:"-"}),(0,l.jsx)("td",{className:"border border-black p-2 text-right",children:"-"}),(0,l.jsx)("td",{className:"border border-black p-2 text-right",children:null===(d=h.standard_energy_per_m2)||void 0===d?void 0:d.toFixed(2)})]})]})]}),(0,l.jsxs)("div",{className:"mt-4 bg-gray-50 p-3 rounded border text-sm",children:[(0,l.jsx)("p",{children:(0,l.jsx)("strong",{children:"基準一次エネルギー消費量 = "})}),(0,l.jsx)("p",{children:"基準エネルギー消費量原単位合計 \xd7 延床面積"}),(0,l.jsxs)("p",{children:["= ",null===(m=h.standard_energy_per_m2)||void 0===m?void 0:m.toFixed(2)," \xd7 ",Number(u.floor_area||h.building_area_m2).toLocaleString()]}),(0,l.jsxs)("p",{children:["= ",(0,l.jsxs)("strong",{children:[null===(x=h.standard_primary_energy_mj)||void 0===x?void 0:x.toLocaleString()," MJ/年"]})]})]})]}),(0,l.jsxs)("section",{className:"mb-6",children:[(0,l.jsx)("h3",{className:"text-lg font-bold border-b border-black mb-3",children:"5. 法的根拠"}),(0,l.jsxs)("ul",{className:"list-disc list-inside text-sm space-y-1",children:[(0,l.jsx)("li",{children:"建築物のエネルギー消費性能の向上に関する法律（建築物省エネ法）"}),(0,l.jsx)("li",{children:"国土交通省告示第1396号（平成28年1月29日）"}),(0,l.jsx)("li",{children:"モデル建物法による標準入力法（平成28年国土交通省告示第265号）"})]})]}),(0,l.jsxs)("section",{children:[(0,l.jsx)("h3",{className:"text-lg font-bold border-b border-black mb-3",children:"6. 注記"}),(0,l.jsxs)("div",{className:"text-sm space-y-1",children:[(0,l.jsx)("p",{children:"• 本計算書は建築物省エネ法に基づくモデル建物法により算定"}),(0,l.jsxs)("p",{children:["• 地域区分: ",u.climate_zone,"地域の補正係数を適用"]}),(0,l.jsx)("p",{children:"• 規模補正係数: 0.95（簡易計算）"}),null===(g=h.notes)||void 0===g?void 0:g.map((e,t)=>(0,l.jsxs)("p",{children:["• ",e]},t))]})]})]})})}let _=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{id:Date.now().toString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),projectInfo:{name:e.name||"",buildingOwner:e.buildingOwner||"",designer:e.designer||"",designFirm:e.designFirm||"",location:e.location||"",description:e.description||""},formData:t,result:s,version:"1.0",status:s?"calculated":"draft"}},y="bei_calculator_projects",w=()=>{try{let e=localStorage.getItem(y);return e?JSON.parse(e):[]}catch(e){return console.error("プロジェクト取得エラー:",e),[]}},k=e=>{try{let t=w(),s=t.findIndex(t=>t.id===e.id);s>=0?t[s]={...e,updatedAt:new Date().toISOString()}:t.unshift(e);let l=t.slice(0,50);return localStorage.setItem(y,JSON.stringify(l)),e}catch(e){throw console.error("プロジェクト保存エラー:",e),e}},I=e=>w().find(t=>t.id===e),C=e=>{try{let t=w().filter(t=>t.id!==e);return localStorage.setItem(y,JSON.stringify(t)),!0}catch(e){return console.error("プロジェクト削除エラー:",e),!1}},S=e=>{let t=I(e);return t?k({...t,id:Date.now().toString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),projectInfo:{...t.projectInfo,name:"".concat(t.projectInfo.name," - コピー")},result:null,status:"draft"}):null},O=e=>{let t=w();if(!e.trim())return t;let s=e.toLowerCase();return t.filter(e=>e.projectInfo.name.toLowerCase().includes(s)||e.projectInfo.buildingOwner.toLowerCase().includes(s)||e.projectInfo.designer.toLowerCase().includes(s)||e.projectInfo.location.toLowerCase().includes(s))},F=e=>{let t=I(e);if(!t)return null;let s=JSON.stringify(t,null,2),l=new Blob([s],{type:"application/json"}),r=URL.createObjectURL(l),a=document.createElement("a");return a.href=r,a.download="".concat(t.projectInfo.name||"BEI計算","_").concat(t.id,".json"),a.click(),URL.revokeObjectURL(r),t},R=e=>new Promise((t,s)=>{let l=new FileReader;l.onload=e=>{try{let s=JSON.parse(e.target.result);if(!s.projectInfo||!s.formData)throw Error("無効なプロジェクトファイルです");let l={...s,id:Date.now().toString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),projectInfo:{...s.projectInfo,name:"".concat(s.projectInfo.name," - インポート")}},r=k(l);t(r)}catch(e){s(Error("インポートエラー: ".concat(e.message)))}},l.onerror=()=>s(Error("ファイル読み込みエラー")),l.readAsText(e)}),E=()=>{try{let e=localStorage.getItem(y),t=new Blob([e||""]).size;return{sizeInBytes:t,sizeInKB:Math.round(t/1024),projectCount:w().length}}catch(e){return{sizeInBytes:0,sizeInKB:0,projectCount:0}}};function J(e){let{currentProject:t,onProjectSelect:s,onNewProject:n,onProjectLoad:i}=e,[c,o]=(0,r.useState)([]),[d,m]=(0,r.useState)(""),[x,g]=(0,r.useState)(!1),[h,u]=(0,r.useState)(null),[b,p]=(0,r.useState)({projectCount:0,sizeInKB:0}),j=()=>{o(d?O(d):w()),p(E())};(0,r.useEffect)(()=>{j()},[d]);let v=e=>{i(e),g(!1)},f=(e,t)=>{t.stopPropagation(),window.confirm("このプロジェクトを削除しますか？")&&(C(e),j())},N=(e,t)=>{t.stopPropagation(),S(e),j()},_=(e,t)=>{t.stopPropagation(),F(e)},y=e=>new Date(e).toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),k=e=>{if(!e||!e.bei)return"未計算";let t=e.is_compliant?"適合":"不適合",s=e.is_compliant?"text-green-600":"text-red-600";return(0,l.jsxs)("span",{className:s,children:[e.bei," (",t,")"]})};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,l.jsxs)("button",{onClick:()=>g(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2",children:[(0,l.jsx)(a.$nz,{}),(0,l.jsx)("span",{children:"プロジェクト管理"})]}),t&&(0,l.jsxs)("div",{className:"text-sm text-gray-600",children:["現在: ",(0,l.jsx)("strong",{children:t.projectInfo.name})]})]}),x&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg max-w-6xl max-h-[80vh] w-full overflow-hidden",children:[(0,l.jsxs)("div",{className:"bg-gray-50 px-6 py-4 border-b flex justify-between items-center",children:[(0,l.jsx)("h2",{className:"text-xl font-bold",children:"プロジェクト管理"}),(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsxs)("div",{className:"text-sm text-gray-600",children:[b.projectCount,"件 (",b.sizeInKB,"KB)"]}),(0,l.jsx)("button",{onClick:()=>g(!1),className:"text-gray-500 hover:text-gray-700",children:"✕"})]})]}),(0,l.jsx)("div",{className:"px-6 py-4 border-b bg-gray-50",children:(0,l.jsxs)("div",{className:"flex flex-wrap gap-4 items-center",children:[(0,l.jsxs)("button",{onClick:()=>{n(),g(!1)},className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded flex items-center space-x-2",children:[(0,l.jsx)(a.wEH,{}),(0,l.jsx)("span",{children:"新規作成"})]}),(0,l.jsxs)("label",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded flex items-center space-x-2 cursor-pointer",children:[(0,l.jsx)(a.DUB,{}),(0,l.jsx)("span",{children:"インポート"}),(0,l.jsx)("input",{type:"file",accept:".json",onChange:e=>{let t=e.target.files[0];t&&(R(t).then(()=>{j(),alert("プロジェクトをインポートしました")}).catch(e=>{alert(e.message)}),e.target.value="")},className:"hidden"})]}),(0,l.jsx)("div",{className:"flex-1 max-w-md",children:(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(a.U41,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,l.jsx)("input",{type:"text",placeholder:"プロジェクト検索...",value:d,onChange:e=>m(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})})]})}),(0,l.jsx)("div",{className:"overflow-auto max-h-96",children:0===c.length?(0,l.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,l.jsx)(a.$nz,{className:"mx-auto text-4xl mb-4"}),(0,l.jsx)("p",{children:"プロジェクトがありません"}),(0,l.jsx)("p",{className:"text-sm",children:"「新規作成」でプロジェクトを作成してください"})]}):(0,l.jsx)("div",{className:"divide-y",children:c.map(e=>(0,l.jsx)("div",{className:"px-6 py-4 hover:bg-gray-50 cursor-pointer",onClick:()=>v(e),children:(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,l.jsx)("h3",{className:"font-medium text-lg",children:e.projectInfo.name||"無題のプロジェクト"}),(0,l.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat("calculated"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:"calculated"===e.status?"計算済み":"下書き"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm text-gray-600",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(a.Xws,{className:"text-gray-400"}),(0,l.jsx)("span",{children:e.projectInfo.buildingOwner||"建築主未入力"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(a.m17,{className:"text-gray-400"}),(0,l.jsx)("span",{children:e.projectInfo.location||"所在地未入力"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(a.XdU,{className:"text-gray-400"}),(0,l.jsx)("span",{children:y(e.updatedAt)})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:"BEI: "}),k(e.result)]})]}),e.projectInfo.description&&(0,l.jsx)("div",{className:"mt-2 text-sm text-gray-600",children:e.projectInfo.description})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,l.jsx)("button",{onClick:t=>N(e.id,t),className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded",title:"複製",children:(0,l.jsx)(a.esY,{})}),(0,l.jsx)("button",{onClick:t=>_(e.id,t),className:"p-2 text-gray-500 hover:text-green-600 hover:bg-green-50 rounded",title:"エクスポート",children:(0,l.jsx)(a.aBF,{})}),(0,l.jsx)("button",{onClick:t=>f(e.id,t),className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded",title:"削除",children:(0,l.jsx)(a.Xm5,{})})]})]})},e.id))})})]})})]})}function z(e){let{projectInfo:t,onProjectInfoChange:s,className:r=""}=e,n=(e,l)=>{s({...t,[e]:l})};return(0,l.jsxs)("div",{className:"space-y-6 ".concat(r),children:[(0,l.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[(0,l.jsxs)("h3",{className:"text-lg font-bold text-blue-800 mb-4 flex items-center",children:[(0,l.jsx)(a.m17,{className:"mr-2"}),"プロジェクト情報"]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["プロジェクト名 ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)("input",{type:"text",value:t.name||"",onChange:e=>n("name",e.target.value),placeholder:"例: ○○ビル新築工事",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"所在地"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(a.Nh4,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,l.jsx)("input",{type:"text",value:t.location||"",onChange:e=>n("location",e.target.value),placeholder:"例: 東京都港区○○1-2-3",className:"w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"建築主"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(a.Xws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,l.jsx)("input",{type:"text",value:t.buildingOwner||"",onChange:e=>n("buildingOwner",e.target.value),placeholder:"例: 株式会社○○",className:"w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"設計者"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(a.fmQ,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,l.jsx)("input",{type:"text",value:t.designer||"",onChange:e=>n("designer",e.target.value),placeholder:"例: 田中太郎",className:"w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,l.jsxs)("div",{className:"md:col-span-2",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"設計事務所"}),(0,l.jsx)("input",{type:"text",value:t.designFirm||"",onChange:e=>n("designFirm",e.target.value),placeholder:"例: ○○設計事務所",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,l.jsxs)("div",{className:"md:col-span-2",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"プロジェクト概要・備考"}),(0,l.jsx)("textarea",{value:t.description||"",onChange:e=>n("description",e.target.value),placeholder:"プロジェクトの概要や特記事項があれば記入してください",rows:3,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-vertical"})]})]})]}),(0,l.jsx)("div",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded",children:(0,l.jsxs)("p",{children:[(0,l.jsx)("span",{className:"text-red-500",children:"*"})," プロジェクト名は保存時に必須です。 その他の項目は任意ですが、申請書作成時に必要になります。"]})})]})}var M=s(3718);let D={office:{lighting:{min:50,max:100,typical:70,unit:"MJ/m\xb2年"},cooling:{min:20,max:60,typical:38,unit:"MJ/m\xb2年"},heating:{min:20,max:80,typical:44,unit:"MJ/m\xb2年"},ventilation:{min:15,max:40,typical:28,unit:"MJ/m\xb2年"},hot_water:{min:2,max:10,typical:3,unit:"MJ/m\xb2年"},elevator:{min:8,max:20,typical:14,unit:"MJ/m\xb2年"}},hotel:{lighting:{min:50,max:100,typical:70,unit:"MJ/m\xb2年"},cooling:{min:30,max:80,typical:54,unit:"MJ/m\xb2年"},heating:{min:30,max:100,typical:54,unit:"MJ/m\xb2年"},ventilation:{min:15,max:40,typical:28,unit:"MJ/m\xb2年"},hot_water:{min:100,max:250,typical:176,unit:"MJ/m\xb2年"},elevator:{min:8,max:20,typical:14,unit:"MJ/m\xb2年"}},hospital:{lighting:{min:70,max:130,typical:98,unit:"MJ/m\xb2年"},cooling:{min:40,max:100,typical:72,unit:"MJ/m\xb2年"},heating:{min:40,max:120,typical:72,unit:"MJ/m\xb2年"},ventilation:{min:60,max:120,typical:89,unit:"MJ/m\xb2年"},hot_water:{min:100,max:250,typical:176,unit:"MJ/m\xb2年"},elevator:{min:8,max:20,typical:14,unit:"MJ/m\xb2年"}},shop_department:{lighting:{min:100,max:160,typical:126,unit:"MJ/m\xb2年"},cooling:{min:15,max:30,typical:20,unit:"MJ/m\xb2年"},heating:{min:15,max:35,typical:23,unit:"MJ/m\xb2年"},ventilation:{min:15,max:40,typical:28,unit:"MJ/m\xb2年"},hot_water:{min:2,max:8,typical:3,unit:"MJ/m\xb2年"},elevator:{min:8,max:20,typical:14,unit:"MJ/m\xb2年"}},shop_supermarket:{lighting:{min:120,max:180,typical:140,unit:"MJ/m\xb2年"},cooling:{min:15,max:30,typical:20,unit:"MJ/m\xb2年"},heating:{min:15,max:35,typical:23,unit:"MJ/m\xb2年"},ventilation:{min:15,max:40,typical:28,unit:"MJ/m\xb2年"},hot_water:{min:2,max:8,typical:3,unit:"MJ/m\xb2年"},elevator:{min:8,max:20,typical:14,unit:"MJ/m\xb2年"}}},L={INFO:"info",WARNING:"warning",ERROR:"error"},A=(e,t,s,l)=>{let r=[];if(!s||""===s||isNaN(parseFloat(s)))return r;let a=parseFloat(s),n=l?a/parseFloat(l):0;if(a<0)return r.push({level:L.ERROR,message:"エネルギー消費量は0以上の値を入力してください",suggestion:"0以上の値を入力してください"}),r;let i=D[e];if(i&&i[t]&&l){let e=i[t];n<.3*e.min?r.push({level:L.WARNING,message:"".concat(U(t),"の値が一般的な範囲より大幅に小さいです"),suggestion:"一般的な範囲: ".concat(e.min,"-").concat(e.max," ").concat(e.unit,"（現在: ").concat(n.toFixed(1)," MJ/m\xb2年）"),recommendation:"値を確認してください。設備が無い場合は0でも構いません"}):n<e.min?r.push({level:L.INFO,message:"".concat(U(t),"の値が一般的な範囲より小さいです"),suggestion:"一般的な範囲: ".concat(e.min,"-").concat(e.max," ").concat(e.unit,"（現在: ").concat(n.toFixed(1)," MJ/m\xb2年）")}):n>2*e.max?r.push({level:L.ERROR,message:"".concat(U(t),"の値が一般的な範囲より大幅に大きいです"),suggestion:"一般的な範囲: ".concat(e.min,"-").concat(e.max," ").concat(e.unit,"（現在: ").concat(n.toFixed(1)," MJ/m\xb2年）"),recommendation:"入力値を再確認してください。単位間違いの可能性があります"}):n>e.max?r.push({level:L.WARNING,message:"".concat(U(t),"の値が一般的な範囲より大きいです"),suggestion:"一般的な範囲: ".concat(e.min,"-").concat(e.max," ").concat(e.unit,"（現在: ").concat(n.toFixed(1)," MJ/m\xb2年）"),recommendation:"特殊な設備がある場合は問題ありません"}):r.push({level:L.INFO,message:"".concat(U(t),"の値は適切な範囲内です"),suggestion:"一般的な値: ".concat(e.typical," ").concat(e.unit,"（現在: ").concat(n.toFixed(1)," MJ/m\xb2年）")})}return l&&a>1e3*parseFloat(l)&&r.push({level:L.ERROR,message:"値が床面積に対して極端に大きいです",suggestion:"単位を確認してください（MJ/年で入力）",recommendation:"kWh/年の場合は3.6で割ってください"}),r},B=e=>{let t=[];if(!e||""===e||isNaN(parseFloat(e)))return t;let s=parseFloat(e);return s<=0?t.push({level:L.ERROR,message:"床面積は0より大きい値を入力してください",suggestion:"正の値を入力してください"}):s<50?t.push({level:L.WARNING,message:"床面積が小さいです",suggestion:"住宅用途でない場合は値を確認してください"}):s>1e5?t.push({level:L.WARNING,message:"床面積が非常に大きいです",suggestion:"超高層建築物の場合は問題ありません"}):t.push({level:L.INFO,message:"床面積は適切な範囲内です",suggestion:"".concat(s.toLocaleString()," m\xb2")}),t},P=(e,t)=>{let s=[];if(!e||""===e)return s;let l=parseFloat(e);return l<0?s.push({level:L.ERROR,message:"再生可能エネルギー量は0以上の値を入力してください",suggestion:"0以上の値を入力してください"}):t&&l>t?s.push({level:L.WARNING,message:"再エネ控除量が設計一次エネルギー消費量を上回っています",suggestion:"控除量は設計エネルギー消費量以下にしてください",recommendation:"太陽光発電等の年間発電量を確認してください"}):l>0&&s.push({level:L.INFO,message:"再生可能エネルギー控除が設定されています",suggestion:"控除量: ".concat(l.toLocaleString()," MJ/年")}),s},U=e=>({heating:"暖房",cooling:"冷房",ventilation:"機械換気",hot_water:"給湯",lighting:"照明",elevator:"昇降機"})[e]||e,W=(e,t)=>{let s=[];if(!e||""===e||isNaN(parseFloat(e)))return s;let l=parseFloat(e);if(l<=0)s.push({level:L.ERROR,message:"UA値は0より大きい値を入力してください",suggestion:"正の値を入力してください"});else if(l>5)s.push({level:L.ERROR,message:"UA値が極端に大きいです",suggestion:"一般的な建築物のUA値は0.3～2.0の範囲です",recommendation:"入力値を再確認してください"});else if(t){let e={1:.46,2:.46,3:.56,4:.75,5:.87,6:.87,7:.87,8:.87}[parseInt(t)];e&&(l<=e?s.push({level:L.INFO,message:"".concat(t,"地域の省エネ基準に適合しています"),suggestion:"基準値: ".concat(e," W/(m\xb2\xb7K)以下（現在: ").concat(l," W/(m\xb2\xb7K)）")}):l<=1.5*e?s.push({level:L.WARNING,message:"".concat(t,"地域の省エネ基準を上回っています"),suggestion:"基準値: ".concat(e," W/(m\xb2\xb7K)以下（現在: ").concat(l," W/(m\xb2\xb7K)）"),recommendation:"断熱性能の向上を検討してください"}):s.push({level:L.ERROR,message:"".concat(t,"地域の省エネ基準を大幅に上回っています"),suggestion:"基準値: ".concat(e," W/(m\xb2\xb7K)以下（現在: ").concat(l," W/(m\xb2\xb7K)）"),recommendation:"断熱改修が必要です"}))}else s.push({level:L.INFO,message:"UA値が入力されました",suggestion:"現在: ".concat(l," W/(m\xb2\xb7K)")});return s},G=(e,t)=>{let s=[];if(!e||""===e||isNaN(parseFloat(e)))return s;let l=parseFloat(e);if(l<=0)s.push({level:L.ERROR,message:"ηAC値は0より大きい値を入力してください",suggestion:"正の値を入力してください"});else if(l>10)s.push({level:L.ERROR,message:"ηAC値が極端に大きいです",suggestion:"一般的な建築物のηAC値は1.0～6.0の範囲です",recommendation:"入力値を再確認してください"});else if(t){let e={1:4.6,2:4.6,3:3.5,4:3.2,5:2.8,6:2.8,7:2.8,8:2.8}[parseInt(t)];e&&(l<=e?s.push({level:L.INFO,message:"".concat(t,"地域の省エネ基準に適合しています"),suggestion:"基準値: ".concat(e,"以下（現在: ").concat(l,"）")}):l<=1.5*e?s.push({level:L.WARNING,message:"".concat(t,"地域の省エネ基準を上回っています"),suggestion:"基準値: ".concat(e,"以下（現在: ").concat(l,"）"),recommendation:"遮熱性能の向上を検討してください"}):s.push({level:L.ERROR,message:"".concat(t,"地域の省エネ基準を大幅に上回っています"),suggestion:"基準値: ".concat(e,"以下（現在: ").concat(l,"）"),recommendation:"窓・開口部の改修が必要です"}))}else s.push({level:L.INFO,message:"ηAC値が入力されました",suggestion:"現在: ".concat(l)});return s},K=e=>{let t={},s=B(e.floor_area);if(s.length>0&&(t.floor_area=s),"standard_input"===e.calculation_method&&e.envelope_performance){let s=W(e.envelope_performance.ua_value,e.climate_zone);if(s.length>0&&(t.ua_value=s),"residential_collective"===e.building_type){let s=G(e.envelope_performance.eta_ac_value,e.climate_zone);s.length>0&&(t.eta_ac_value=s)}}e.design_energy&&Object.entries(e.design_energy).forEach(s=>{let[l,r]=s,a=A(e.building_type,l,r,e.floor_area);a.length>0&&(t["design_energy_".concat(l)]=a)});let l=e.design_energy?Object.values(e.design_energy).reduce((e,t)=>e+(parseFloat(t)||0),0):0,r=P(e.renewable_energy,l);return r.length>0&&(t.renewable_energy=r),t};function T(e){let{warnings:t,onDismiss:s,className:r=""}=e;if(!t||0===t.length)return null;let n=t.reduce((e,t)=>t.level===L.ERROR?L.ERROR:t.level===L.WARNING&&e!==L.ERROR?L.WARNING:e!==L.ERROR&&e!==L.WARNING?L.INFO:e,L.INFO);return(0,l.jsx)("div",{className:"border rounded-lg p-3 mb-3 ".concat((e=>{switch(e){case L.ERROR:return"bg-red-50 border-red-200";case L.WARNING:return"bg-yellow-50 border-yellow-200";case L.INFO:return"bg-blue-50 border-blue-200";default:return"bg-gray-50 border-gray-200"}})(n)," ").concat(r),children:(0,l.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,l.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:(e=>{switch(e){case L.ERROR:return(0,l.jsx)(a.gJy,{className:"text-red-500"});case L.WARNING:return(0,l.jsx)(a.gJy,{className:"text-yellow-500"});case L.INFO:return(0,l.jsx)(a.DAO,{className:"text-blue-500"});default:return(0,l.jsx)(a.DAO,{className:"text-gray-500"})}})(n)}),(0,l.jsx)("div",{className:"flex-1 min-w-0",children:(0,l.jsx)("div",{className:"space-y-2",children:t.map((e,t)=>(0,l.jsxs)("div",{className:"text-sm",children:[(0,l.jsx)("div",{className:"font-medium",children:e.message}),e.suggestion&&(0,l.jsx)("div",{className:"text-xs opacity-75 mt-1",children:e.suggestion}),e.recommendation&&(0,l.jsxs)("div",{className:"text-xs opacity-75 mt-1 font-medium",children:["\uD83D\uDCA1 ",e.recommendation]})]},t))})}),s&&(0,l.jsx)("button",{onClick:s,className:"flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors",children:(0,l.jsx)(a.aHS,{size:12})})]})})}function X(e){let{validationResults:t,className:s=""}=e;if(!t||0===Object.keys(t).length)return null;let r=Object.values(t).flat().length,n=Object.values(t).flat().filter(e=>e.level===L.ERROR).length,i=Object.values(t).flat().filter(e=>e.level===L.WARNING).length,c=Object.values(t).flat().filter(e=>e.level===L.INFO).length;return 0===r?(0,l.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 text-green-800",children:[(0,l.jsx)(a.FJM,{}),(0,l.jsx)("span",{className:"font-medium",children:"入力値チェック完了"})]}),(0,l.jsx)("p",{className:"text-sm text-green-700 mt-1",children:"すべての入力値が適切な範囲内です。"})]}):(0,l.jsxs)("div",{className:"border rounded-lg p-4 mb-4 ".concat(s),children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,l.jsx)("h4",{className:"font-medium text-gray-900",children:"入力値チェック結果"}),(0,l.jsxs)("div",{className:"flex space-x-3 text-sm",children:[n>0&&(0,l.jsxs)("span",{className:"text-red-600",children:["❌ エラー ",n,"件"]}),i>0&&(0,l.jsxs)("span",{className:"text-yellow-600",children:["⚠️ 注意 ",i,"件"]}),c>0&&(0,l.jsxs)("span",{className:"text-blue-600",children:["ℹ️ 情報 ",c,"件"]})]})]}),(0,l.jsx)("div",{className:"space-y-3",children:Object.entries(t).map(e=>{let[t,s]=e;return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-1",children:Y(t)}),(0,l.jsx)(T,{warnings:s})]},t)})}),n>0&&(0,l.jsx)("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded",children:(0,l.jsxs)("p",{className:"text-sm text-red-800",children:[(0,l.jsxs)("strong",{children:["エラーが ",n,"件 あります。"]}),"計算を実行する前に修正してください。"]})})]})}let Y=e=>({floor_area:"床面積",renewable_energy:"再生可能エネルギー控除",design_energy_heating:"暖房エネルギー",design_energy_cooling:"冷房エネルギー",design_energy_ventilation:"換気エネルギー",design_energy_hot_water:"給湯エネルギー",design_energy_lighting:"照明エネルギー",design_energy_elevator:"昇降機エネルギー",ua_value:"UA値（外皮平均熱貫流率）",eta_ac_value:"ηAC値（平均日射熱取得率）"})[e]||e;function H(){var e,t,s,n,i,c,g,u,p,j,v,f;let[y,w]=(0,r.useState)(null),[I,C]=(0,r.useState)({name:"",buildingOwner:"",designer:"",designFirm:"",location:"",description:""}),[S,O]=(0,r.useState)({calculation_method:"model_building",building_type:"",climate_zone:"",floor_area:"",is_mixed_use:!1,mixed_uses:[{use_type:"",area_m2:"",area_share:""}],design_energy:{heating:"",cooling:"",ventilation:"",hot_water:"",lighting:"",elevator:""},envelope_performance:{ua_value:"",eta_ac_value:"",perimeter_annual_load:""},renewable_energy:""}),[F,R]=(0,r.useState)(1),[E,D]=(0,r.useState)({}),[L,A]=(0,r.useState)({}),[B,P]=(0,r.useState)(null),[U,W]=(0,r.useState)(!1),[G,Y]=(0,r.useState)(!1),H=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=K(e);return A(t),t};(0,r.useEffect)(()=>{S.building_type&&S.floor_area&&H()},[S.building_type,S.floor_area,S.design_energy,S.renewable_energy]);let Q=()=>{let e={};if(S.is_mixed_use){S.climate_zone||(e.climate_zone="地域区分を選択してください"),(!S.floor_area||0>=parseFloat(S.floor_area))&&(e.floor_area="延床面積を正しく入力してください（正の数値）"),S.mixed_uses.forEach((t,s)=>{t.use_type||(e["mixed_use_".concat(s,"_type")]="用途".concat(s+1,"を選択してください")),(!t.area_m2||0>=parseFloat(t.area_m2))&&(e["mixed_use_".concat(s,"_area")]="面積".concat(s+1,"を正しく入力してください"))});let t=S.mixed_uses.reduce((e,t)=>e+(parseFloat(t.area_m2)||0),0),s=parseFloat(S.floor_area)||0;Math.abs(t-s)>1&&(e.mixed_use_total="用途別面積の合計(".concat(t,"m\xb2)が延床面積(").concat(s,"m\xb2)と一致しません"))}else S.building_type||(e.building_type="建物用途を選択してください"),S.climate_zone||(e.climate_zone="地域区分を選択してください"),(!S.floor_area||0>=parseFloat(S.floor_area))&&(e.floor_area="延床面積を正しく入力してください（正の数値）");return D(e),0===Object.keys(e).length},Z=()=>{let e={};return S.envelope_performance.ua_value&&0>=parseFloat(S.envelope_performance.ua_value)&&(e.ua_value="UA値は正の数値を入力してください"),"residential_collective"===S.building_type&&S.envelope_performance.eta_ac_value&&0>=parseFloat(S.envelope_performance.eta_ac_value)&&(e.eta_ac_value="ηAC値は正の数値を入力してください"),D(e),0===Object.keys(e).length},q=()=>{let e={};return["heating","cooling","ventilation","hot_water","lighting","elevator"].forEach(t=>{(!S.design_energy[t]||0>parseFloat(S.design_energy[t]))&&(e[t]="".concat(V(t),"の値を正しく入力してください"))}),D(e),0===Object.keys(e).length},V=e=>({heating:"暖房",cooling:"冷房",ventilation:"機械換気",hot_water:"給湯",lighting:"照明",elevator:"昇降機"})[e]||e,$=async()=>{if(q()){W(!0);try{let e={building_area_m2:parseFloat(S.floor_area),renewable_energy_deduction_mj:parseFloat(S.renewable_energy)||0,design_energy:Object.entries(S.design_energy).map(e=>{let[t,s]=e;return{category:t,value:parseFloat(s),unit:"MJ"}})};S.is_mixed_use?e.usage_mix=S.mixed_uses.map(e=>({use:e.use_type,zone:S.climate_zone.toString(),area_m2:parseFloat(e.area_m2)})):(e.use=S.building_type,e.zone=S.climate_zone.toString());let t=await M.gQ.evaluate(e),s=t.data||t;if(P(s),R("model_building"===S.calculation_method?4:5),I.name)try{let e=_(I,S,s);y&&(e.id=y.id);let t=k(e);w(t)}catch(e){console.error("プロジェクト保存エラー:",e)}}catch(e){console.error("BEI計算エラー:",e),D({api:"BEI計算中にエラーが発生しました: ".concat(e.message||"入力内容を確認してください")})}finally{W(!1)}}},ee=e=>{let t={office:{heating:38,cooling:38,ventilation:28,hot_water:3,lighting:70,elevator:14},hotel:{heating:54,cooling:54,ventilation:28,hot_water:176,lighting:70,elevator:14},hospital:{heating:72,cooling:72,ventilation:89,hot_water:176,lighting:98,elevator:14},shop_department:{heating:20,cooling:20,ventilation:28,hot_water:3,lighting:126,elevator:14},shop_supermarket:{heating:20,cooling:20,ventilation:28,hot_water:3,lighting:140,elevator:14},school_small:{heating:58,cooling:23,ventilation:14,hot_water:17,lighting:49,elevator:2},school_high:{heating:58,cooling:30,ventilation:14,hot_water:17,lighting:49,elevator:2},school_university:{heating:43,cooling:30,ventilation:14,hot_water:17,lighting:49,elevator:14},restaurant:{heating:54,cooling:54,ventilation:117,hot_water:105,lighting:105,elevator:14},assembly:{heating:38,cooling:38,ventilation:28,hot_water:17,lighting:70,elevator:14},factory:{heating:72,cooling:20,ventilation:28,hot_water:17,lighting:70,elevator:14},residential_collective:{heating:38,cooling:38,ventilation:14,hot_water:105,lighting:42,elevator:14}};return t[e]||t.office},et=e=>{let t={1:{heating:2.38,cooling:.66},2:{heating:2.01,cooling:.69},3:{heating:1.54,cooling:.86},4:{heating:1.16,cooling:.99},5:{heating:1.07,cooling:1.07},6:{heating:.84,cooling:1.15},7:{heating:.7,cooling:1.27},8:{heating:.36,cooling:1.35}};return t[parseInt(e)]||t[6]},es=(e,t)=>{let s=parseFloat(t)||0;return s<300?"1.00":s<1e3?"0.95":s<5e3?"0.90":s<1e4?"0.85":"0.80"},el=()=>{if(!B)return;let e={calculation_date:new Date().toISOString(),building_info:{type:S.building_type,climate_zone:S.climate_zone,floor_area:S.floor_area,renewable_energy:S.renewable_energy},design_energy:S.design_energy,calculation_basis:{standard_energy_consumption:ee(S.building_type),regional_factors:et(S.climate_zone),scale_factor:es(S.building_type,S.floor_area)},result:B,legal_basis:["建築物のエネルギー消費性能の向上に関する法律（建築物省エネ法）","国土交通省告示第1396号（平成28年1月29日）","モデル建物法による標準入力法（平成28年国土交通省告示第265号）"]},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),s=URL.createObjectURL(t),l=document.createElement("a");l.href=s,l.download="bei-calculation-detailed-".concat(new Date().toISOString().split("T")[0],".json"),l.click(),URL.revokeObjectURL(s)};return(0,l.jsx)(o,{title:"BEI計算",subtitle:"建築物省エネ法の省エネ基準適合性判定 - 初心者でも簡単に計算できます",icon:a.T_s,backUrl:"/tools",backText:"計算ツール一覧に戻る",children:(0,l.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,l.jsx)(J,{currentProject:y,onProjectSelect:w,onNewProject:()=>{w(null),C({name:"",buildingOwner:"",designer:"",designFirm:"",location:"",description:""}),O({calculation_method:"model_building",building_type:"",climate_zone:"",floor_area:"",is_mixed_use:!1,mixed_uses:[{use_type:"",area_m2:"",area_share:""}],design_energy:{heating:"",cooling:"",ventilation:"",hot_water:"",lighting:"",elevator:""},envelope_performance:{ua_value:"",eta_ac_value:"",perimeter_annual_load:""},renewable_energy:"0"}),P(null),R(1),D({})},onProjectLoad:e=>{w(e),C(e.projectInfo),O(e.formData),P(e.result),R(e.result?"model_building"===e.formData.calculation_method?4:5:1),D({})}}),(0,l.jsx)(z,{projectInfo:I,onProjectInfoChange:C}),(0,l.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl p-6 mb-8",children:(0,l.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,l.jsx)("div",{className:"bg-blue-100 rounded-full p-2",children:(0,l.jsx)(a.iih,{className:"text-blue-600 text-lg"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-semibold text-blue-900 mb-2",children:"\uD83D\uDD30 初めての方へ - BEI計算とは？"}),(0,l.jsxs)("div",{className:"text-sm text-blue-800 space-y-2",children:[(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"BEI（Building Energy Index）"}),"は、建築物省エネ法で定められた「建物の省エネ性能を表す指標」です。"]}),(0,l.jsxs)("div",{className:"bg-white bg-opacity-50 rounded-lg p-3 space-y-1",children:[(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"✅ BEI ≤ 1.0"})," → 省エネ基準適合（OK）"]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"❌ BEI > 1.0"})," → 省エネ基準不適合（要改善）"]})]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"\uD83C\uDFE2 こんな工事で必要："}),"エレベーター設置・更新、照明更新、空調更新、給湯設備更新など"]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"\uD83D\uDCDD 必要な情報："}),"建物用途、地域、面積、年間エネルギー消費量（設計値）"]})]})]})]})}),(0,l.jsx)("div",{className:"mb-8",children:"model_building"===S.calculation_method?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"flex items-center justify-between max-w-lg mx-auto",children:[1,2,3,4].map(e=>(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ".concat(F>=e?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"),children:F>e?(0,l.jsx)(a.FJM,{}):e}),e<4&&(0,l.jsx)("div",{className:"w-16 h-0.5 ".concat(F>e?"bg-blue-600":"bg-gray-200")})]},e))}),(0,l.jsxs)("div",{className:"flex justify-between max-w-lg mx-auto mt-2 text-xs text-gray-600",children:[(0,l.jsx)("span",{children:"基本情報"}),(0,l.jsx)("span",{children:"設計値"}),(0,l.jsx)("span",{children:"再エネ"}),(0,l.jsx)("span",{children:"結果"})]})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"flex items-center justify-between max-w-md mx-auto",children:[1,2,3,4,5].map(e=>(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ".concat(F>=e?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"),children:F>e?(0,l.jsx)(a.FJM,{}):e}),e<5&&(0,l.jsx)("div",{className:"w-12 h-0.5 ".concat(F>e?"bg-blue-600":"bg-gray-200")})]},e))}),(0,l.jsxs)("div",{className:"flex justify-between max-w-md mx-auto mt-2 text-xs text-gray-600",children:[(0,l.jsx)("span",{children:"基本情報"}),(0,l.jsx)("span",{children:"外皮性能"}),(0,l.jsx)("span",{children:"設計値"}),(0,l.jsx)("span",{children:"再エネ"}),(0,l.jsx)("span",{children:"結果"})]})]})}),(0,l.jsxs)("div",{className:"grid lg:grid-cols-2 gap-8",children:[(0,l.jsxs)("div",{className:"space-y-6",children:[F>=1&&(0,l.jsxs)(d,{title:"ステップ1: 建物基本情報",icon:a.m17,children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"\uD83E\uDD14 どちらの計算方法を使いますか？"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("label",{className:"flex items-start space-x-3 p-4 border-2 border-green-200 bg-green-50 rounded-lg cursor-pointer hover:bg-green-100",children:[(0,l.jsx)("input",{type:"radio",name:"calculation_method",value:"model_building",checked:"model_building"===S.calculation_method,onChange:e=>{O({...S,calculation_method:e.target.value}),D({})},className:"mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"font-semibold text-green-900 flex items-center space-x-2",children:[(0,l.jsx)("span",{children:"✅ モデル建物法"}),(0,l.jsx)("span",{className:"bg-green-600 text-white text-xs px-2 py-1 rounded-full",children:"推奨・簡単"})]}),(0,l.jsxs)("div",{className:"text-sm text-green-800 mt-1",children:[(0,l.jsx)("strong",{children:"\uD83D\uDC4D 初心者にオススメ！"})," 建物用途を選ぶだけの簡単計算"]}),(0,l.jsxs)("div",{className:"text-xs text-green-700 mt-2 space-y-1",children:[(0,l.jsxs)("p",{children:["• ",(0,l.jsx)("strong",{children:"入力簡単："}),"建物用途、地域、面積、エネルギー消費量のみ"]}),(0,l.jsxs)("p",{children:["• ",(0,l.jsx)("strong",{children:"外皮不要："}),"UA値・ηAC値などの複雑な外皮性能計算は不要"]}),(0,l.jsxs)("p",{children:["• ",(0,l.jsx)("strong",{children:"工事対応："}),"エレベーター、照明、空調更新など幅広く対応"]})]})]})]}),(0,l.jsxs)("label",{className:"flex items-start space-x-3 p-4 border border-gray-200 rounded-lg cursor-not-allowed opacity-50",children:[(0,l.jsx)("input",{type:"radio",name:"calculation_method",value:"standard_input",checked:"standard_input"===S.calculation_method,onChange:e=>{O({...S,calculation_method:e.target.value}),D({})},className:"mt-0.5",disabled:!0}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"font-medium text-gray-900 flex items-center space-x-2",children:[(0,l.jsx)("span",{children:"\uD83D\uDCCA 標準入力法"}),(0,l.jsx)("span",{className:"bg-gray-400 text-white text-xs px-2 py-1 rounded-full",children:"未実装"})]}),(0,l.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"外皮性能の詳細計算が必要な上級者向け計算（将来実装予定）"}),(0,l.jsx)("div",{className:"text-xs text-gray-500 mt-2",children:"• UA値・ηAC値・壁や窓の詳細仕様が必要"})]})]})]}),(0,l.jsx)("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,l.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,l.jsx)("strong",{children:"\uD83D\uDCA1 迷ったら「モデル建物法」を選択！"}),"ほとんどの工事でこちらで十分です。"]})})]}),(0,l.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:(0,l.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,l.jsx)(a.iih,{className:"text-blue-600 mt-0.5 flex-shrink-0"}),(0,l.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,l.jsx)("strong",{children:"モデル建物法について："}),"建物用途と地域区分、設計一次エネルギー消費量のみで計算します。 外皮性能（UA値・ηAC値）の入力は不要です。 EVのみの工事など、外皮に関わらない工事でも対応できます。"]})]})}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"建物の用途構成"}),(0,l.jsxs)("div",{className:"flex space-x-4",children:[(0,l.jsxs)("label",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"radio",name:"use_type",checked:!S.is_mixed_use,onChange:()=>{O({...S,is_mixed_use:!1,building_type:"",mixed_uses:[{use_type:"",area_m2:"",area_share:""}]}),D({})},className:"mr-2"}),(0,l.jsx)("span",{children:"単一用途"})]}),(0,l.jsxs)("label",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"radio",name:"use_type",checked:S.is_mixed_use,onChange:()=>{O({...S,is_mixed_use:!0,building_type:"",mixed_uses:[{use_type:"",area_m2:"",area_share:""}]}),D({})},className:"mr-2"}),(0,l.jsx)("span",{children:"複合用途"})]})]})]}),!S.is_mixed_use&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(b,{value:S.building_type,onChange:e=>{O({...S,building_type:e}),D({...E,building_type:""})},className:E.building_type?"border-red-500":""}),E.building_type&&(0,l.jsx)("p",{className:"text-red-600 text-sm mt-1",children:E.building_type})]}),S.is_mixed_use&&(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"用途別構成"}),(0,l.jsx)("button",{type:"button",onClick:()=>{O({...S,mixed_uses:[...S.mixed_uses,{use_type:"",area_m2:"",area_share:""}]})},className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"+ 用途を追加"})]}),S.mixed_uses.map((e,t)=>(0,l.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("h4",{className:"font-medium text-gray-900",children:["用途 ",t+1]}),S.mixed_uses.length>1&&(0,l.jsx)("button",{type:"button",onClick:()=>{let e=S.mixed_uses.filter((e,s)=>s!==t);O({...S,mixed_uses:e})},className:"text-red-600 hover:text-red-700 text-sm",children:"削除"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"建物用途"}),(0,l.jsx)(b,{value:e.use_type,onChange:e=>{let s=[...S.mixed_uses];s[t].use_type=e,O({...S,mixed_uses:s}),D({...E,["mixed_use_".concat(t,"_type")]:""})},className:E["mixed_use_".concat(t,"_type")]?"border-red-500":"",compact:!0}),E["mixed_use_".concat(t,"_type")]&&(0,l.jsx)("p",{className:"text-red-600 text-sm mt-1",children:E["mixed_use_".concat(t,"_type")]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"面積 (m\xb2)"}),(0,l.jsx)("input",{type:"number",value:e.area_m2,onChange:e=>{let s=[...S.mixed_uses];s[t].area_m2=e.target.value,S.floor_area&&(s[t].area_share=(parseFloat(e.target.value)/parseFloat(S.floor_area)*100).toFixed(1)),O({...S,mixed_uses:s}),D({...E,["mixed_use_".concat(t,"_area")]:""})},className:"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(E["mixed_use_".concat(t,"_area")]?"border-red-500":"border-gray-300"),placeholder:"例: 500",min:"0",step:"0.1"}),E["mixed_use_".concat(t,"_area")]&&(0,l.jsx)("p",{className:"text-red-600 text-sm mt-1",children:E["mixed_use_".concat(t,"_area")]}),e.area_share&&(0,l.jsxs)("p",{className:"text-gray-600 text-xs mt-1",children:["全体に占める割合: ",e.area_share,"%"]})]})]},t)),E.mixed_use_total&&(0,l.jsx)("p",{className:"text-red-600 text-sm",children:E.mixed_use_total}),S.mixed_uses.some(e=>e.area_m2)&&(0,l.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:(0,l.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,l.jsx)("strong",{children:"用途別面積の合計:"})," ",S.mixed_uses.reduce((e,t)=>e+(parseFloat(t.area_m2)||0),0).toLocaleString()," m\xb2"]})})]}),(0,l.jsx)(h,{value:S.climate_zone,onChange:e=>{O({...S,climate_zone:e}),D({...E,climate_zone:""})},className:E.climate_zone?"border-red-500":""}),E.climate_zone&&(0,l.jsx)("p",{className:"text-red-600 text-sm mt-1",children:E.climate_zone}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"延床面積 (m\xb2)"}),(0,l.jsx)(x,{title:"延床面積とは？",children:"建物の各階の床面積の合計です。 建築確認申請書や設計図書に記載されている数値を入力してください。"})]}),(0,l.jsx)("input",{type:"number",value:S.floor_area,onChange:e=>{O({...S,floor_area:e.target.value}),D({...E,floor_area:""})},className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(E.floor_area?"border-red-500":"border-gray-300"),placeholder:"例: 1000",min:"1",required:!0}),E.floor_area&&(0,l.jsx)("p",{className:"text-red-600 text-sm mt-1",children:E.floor_area}),S.floor_area&&(0,l.jsxs)("p",{className:"text-gray-600 text-sm mt-1",children:["入力された延床面積: ",Number(S.floor_area).toLocaleString()," m\xb2"]})]}),1===F&&(0,l.jsx)("div",{className:"flex justify-end pt-4",children:(0,l.jsxs)("button",{type:"button",onClick:()=>{Q()&&R(2)},className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-lg transition-colors flex items-center space-x-2",children:[(0,l.jsxs)("span",{children:["次へ：","model_building"===S.calculation_method?"設計エネルギー値入力":"外皮性能入力"]}),(0,l.jsx)(a.Z1Y,{})]})})]}),F>=2&&"standard_input"===S.calculation_method&&(0,l.jsxs)(d,{title:"ステップ2: 外皮性能",icon:a.m17,children:[(0,l.jsx)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6",children:(0,l.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,l.jsx)(a.iih,{className:"text-orange-600 mt-0.5 flex-shrink-0"}),(0,l.jsxs)("div",{className:"text-sm text-orange-800",children:[(0,l.jsx)("strong",{children:"外皮性能について："}),"建物の断熱・遮熱性能を表す指標です。建物の用途に応じて必要な項目を入力してください。 これらの値は外皮計算書または設計図書から確認できます。"]})]})}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"UA値（外皮平均熱貫流率） [W/(m\xb2\xb7K)]"}),(0,l.jsx)(x,{title:"UA値とは？",children:"建物の外皮（屋根、外壁、窓等）の熱の通しやすさの平均値です。 値が小さいほど断熱性能が良好です。省エネ基準では地域ごとに基準値が設定されています。"})]}),(0,l.jsx)("input",{type:"number",value:S.envelope_performance.ua_value,onChange:e=>{O({...S,envelope_performance:{...S.envelope_performance,ua_value:e.target.value}}),D({...E,ua_value:""}),H({...S,envelope_performance:{...S.envelope_performance,ua_value:e.target.value}})},className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(E.ua_value?"border-red-500":"border-gray-300"),placeholder:"例: 0.60",min:"0",step:"0.01"}),E.ua_value&&(0,l.jsx)("p",{className:"text-red-600 text-sm mt-1",children:E.ua_value}),S.climate_zone&&(0,l.jsxs)("p",{className:"text-gray-600 text-sm mt-1",children:[S.climate_zone,"地域の基準値: ",{1:"0.46",2:"0.46",3:"0.56",4:"0.75",5:"0.87",6:"0.87",7:"0.87",8:"0.87"}[parseInt(S.climate_zone)]||"0.87"," W/(m\xb2\xb7K)以下"]}),L.ua_value&&(0,l.jsx)(T,{warnings:L.ua_value})]}),"residential_collective"===S.building_type&&(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"ηAC値（平均日射熱取得率） [-]"}),(0,l.jsx)(x,{title:"ηAC値とは？",children:"冷房期において、建物の外皮が日射をどの程度室内に取得するかを表す指標です。 値が小さいほど遮熱性能が良好です。主に窓の性能に大きく依存します。"})]}),(0,l.jsx)("input",{type:"number",value:S.envelope_performance.eta_ac_value,onChange:e=>{O({...S,envelope_performance:{...S.envelope_performance,eta_ac_value:e.target.value}}),D({...E,eta_ac_value:""}),H({...S,envelope_performance:{...S.envelope_performance,eta_ac_value:e.target.value}})},className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(E.eta_ac_value?"border-red-500":"border-gray-300"),placeholder:"例: 2.8",min:"0",step:"0.1"}),E.eta_ac_value&&(0,l.jsx)("p",{className:"text-red-600 text-sm mt-1",children:E.eta_ac_value}),S.climate_zone&&(0,l.jsxs)("p",{className:"text-gray-600 text-sm mt-1",children:[S.climate_zone,"地域の基準値: ",{1:"4.6",2:"4.6",3:"3.5",4:"3.2",5:"3.2",6:"2.8",7:"2.7",8:"6.7"}[parseInt(S.climate_zone)]||"2.8","以下"]}),L.eta_ac_value&&(0,l.jsx)(T,{warnings:L.eta_ac_value})]})]}),2===F&&(0,l.jsxs)("div",{className:"flex justify-between pt-4",children:[(0,l.jsx)("button",{type:"button",onClick:()=>R(1),className:"bg-gray-600 hover:bg-gray-700 text-white font-medium py-2 px-6 rounded-lg transition-colors",children:"戻る"}),(0,l.jsxs)("button",{type:"button",onClick:()=>{Z()&&R(3)},className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-lg transition-colors flex items-center space-x-2",children:[(0,l.jsx)("span",{children:"次へ：設計エネルギー値入力"}),(0,l.jsx)(a.Z1Y,{})]})]})]}),F>=("model_building"===S.calculation_method?2:3)&&(0,l.jsxs)(d,{title:"model_building"===S.calculation_method?"ステップ2: 設計一次エネルギー消費量":"ステップ3: 設計一次エネルギー消費量",icon:a.Op,children:[(0,l.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:(0,l.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,l.jsx)(a.iih,{className:"text-green-600 mt-0.5 flex-shrink-0"}),(0,l.jsxs)("div",{className:"text-sm text-green-800 space-y-2",children:[(0,l.jsx)("p",{children:(0,l.jsx)("strong",{children:"\uD83D\uDCCA 設計エネルギー消費量の入力"})}),(0,l.jsxs)("p",{children:["設計・計画している建物の",(0,l.jsx)("strong",{children:"年間エネルギー消費量"}),"を用途別に入力してください。"]}),(0,l.jsxs)("div",{className:"bg-white bg-opacity-60 rounded p-3 text-xs space-y-1",children:[(0,l.jsx)("p",{children:(0,l.jsx)("strong",{children:"\uD83D\uDCA1 数値の探し方："})}),(0,l.jsxs)("p",{children:["• ",(0,l.jsx)("strong",{children:"省エネ計算書"}),"の「設計一次エネルギー消費量」欄"]}),(0,l.jsxs)("p",{children:["• ",(0,l.jsx)("strong",{children:"エネルギーシミュレーション"}),"の結果"]}),(0,l.jsxs)("p",{children:["• ",(0,l.jsx)("strong",{children:"設備設計図書"}),"の年間消費量計算"]}),(0,l.jsxs)("p",{children:["• ",(0,l.jsx)("strong",{children:"既存建物"}),"の場合：過去の実績値 + 改修効果"]})]}),(0,l.jsxs)("p",{className:"text-green-700",children:[(0,l.jsx)("strong",{children:"⚠️ 単位注意："}),"すべて ",(0,l.jsx)("strong",{children:"MJ/年"})," で入力してください"]})]})]})}),(0,l.jsx)("div",{className:"grid md:grid-cols-2 gap-4",children:Object.entries(S.design_energy).map(e=>{let[t,s]=e;return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,l.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[V(t)," (MJ/年)"]}),(0,l.jsxs)(x,{title:"".concat(V(t),"について"),children:["heating"===t&&"暖房設備による年間一次エネルギー消費量","cooling"===t&&"冷房設備による年間一次エネルギー消費量","ventilation"===t&&"機械換気設備による年間一次エネルギー消費量","hot_water"===t&&"給湯設備による年間一次エネルギー消費量","lighting"===t&&"照明設備による年間一次エネルギー消費量","elevator"===t&&"昇降機による年間一次エネルギー消費量"]})]}),(0,l.jsx)("input",{type:"number",value:s,onChange:e=>{O({...S,design_energy:{...S.design_energy,[t]:e.target.value}}),D({...E,[t]:""})},className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(E[t]?"border-red-500":"border-gray-300"),placeholder:"0",min:"0",step:"0.1",required:!0}),E[t]&&(0,l.jsx)("p",{className:"text-red-600 text-sm mt-1",children:E[t]}),L["design_energy_".concat(t)]&&(0,l.jsx)(T,{warnings:L["design_energy_".concat(t)]})]},t)})}),F===("model_building"===S.calculation_method?2:3)&&(0,l.jsxs)("div",{className:"flex justify-between pt-4",children:[(0,l.jsx)("button",{type:"button",onClick:()=>R(1),className:"bg-gray-500 hover:bg-gray-600 text-white font-medium py-2 px-6 rounded-lg transition-colors",children:"戻る"}),(0,l.jsxs)("button",{type:"button",onClick:()=>{q()&&R("model_building"===S.calculation_method?3:4)},className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-lg transition-colors flex items-center space-x-2",children:[(0,l.jsx)("span",{children:"次へ：再エネ控除"}),(0,l.jsx)(a.Z1Y,{})]})]})]}),F>=("model_building"===S.calculation_method?3:4)&&(0,l.jsxs)(d,{title:"model_building"===S.calculation_method?"ステップ3: 再生可能エネルギー控除":"ステップ4: 再生可能エネルギー控除",icon:a.iih,children:[(0,l.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:(0,l.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,l.jsx)(a.iih,{className:"text-yellow-600 mt-0.5 flex-shrink-0"}),(0,l.jsxs)("div",{className:"text-sm text-yellow-800",children:[(0,l.jsx)("strong",{children:"再エネ控除について："}),"建物に設置された再生可能エネルギー設備（太陽光発電等）による 年間発電量を一次エネルギー消費量から控除できます。控除量がない場合は0を入力してください。"]})]})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"再エネ控除量 (MJ/年)"}),(0,l.jsx)(x,{title:"再エネ控除の計算方法",children:"太陽光発電等の年間発電量(kWh) \xd7 9.76(一次エネルギー換算係数) \xf7 1000 \xd7 3.6 で算出できます。設備がない場合は0を入力してください。"})]}),(0,l.jsx)("input",{type:"number",value:S.renewable_energy,onChange:e=>O({...S,renewable_energy:e.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0",min:"0",step:"0.1"}),(0,l.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:"設備がない場合は0のままでも計算できます"}),L.renewable_energy&&(0,l.jsx)(T,{warnings:L.renewable_energy})]}),Object.keys(L).length>0&&(0,l.jsx)(X,{validationResults:L}),F===("model_building"===S.calculation_method?3:4)&&(0,l.jsxs)("div",{className:"flex flex-wrap justify-between items-center pt-4 gap-4",children:[(0,l.jsx)("button",{type:"button",onClick:()=>R("model_building"===S.calculation_method?2:3),className:"bg-gray-500 hover:bg-gray-600 text-white font-medium py-2 px-6 rounded-lg transition-colors",children:"戻る"}),(0,l.jsxs)("div",{className:"flex space-x-4",children:[(0,l.jsxs)("button",{type:"button",onClick:()=>{if(!I.name){alert("プロジェクト名を入力してください");return}try{let e=_(I,S,B);y&&(e.id=y.id);let t=k(e);w(t),alert("プロジェクトを保存しました")}catch(e){console.error("保存エラー:",e),alert("保存中にエラーが発生しました")}},className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-lg transition-colors flex items-center space-x-2",children:[(0,l.jsx)(a.aBF,{}),(0,l.jsx)("span",{children:"保存"})]}),(0,l.jsx)("button",{type:"button",onClick:$,disabled:U,className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white font-medium py-2 px-6 rounded-lg transition-colors flex items-center space-x-2",children:U?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,l.jsx)("span",{children:"計算中..."})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.T_s,{}),(0,l.jsx)("span",{children:"BEI計算実行"})]})})]})]})]}),E.api&&(0,l.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,l.jsx)(a.gJy,{className:"text-red-600 mt-0.5 flex-shrink-0"}),(0,l.jsx)("div",{className:"text-sm text-red-800",children:E.api})]})})]}),(0,l.jsxs)("div",{className:"space-y-6",children:[B&&(0,l.jsxs)(m,{title:"BEI計算結果",icon:a.Op,onCopy:()=>{var e,t;if(!B)return;let s="BEI計算結果\n\n"+"BEI値: ".concat(B.bei,"\n")+"適合判定: ".concat(B.is_compliant?"適合":"不適合","\n")+"設計一次エネルギー: ".concat(null===(e=B.design_primary_energy_mj)||void 0===e?void 0:e.toLocaleString()," MJ/年\n")+"基準一次エネルギー: ".concat(null===(t=B.standard_primary_energy_mj)||void 0===t?void 0:t.toLocaleString()," MJ/年");navigator.clipboard.writeText(s)},onDownload:el,children:[(0,l.jsxs)("div",{className:"text-center mb-6",children:[(0,l.jsx)("div",{className:"text-4xl font-bold mb-2",children:(0,l.jsx)("span",{className:B.is_compliant?"text-green-600":"text-red-600",children:"number"==typeof B.bei?B.bei.toFixed(3):B.bei})}),(0,l.jsx)("div",{className:"text-sm text-gray-600 mb-4",children:"BEI値 (Building Energy Index)"}),(0,l.jsx)("div",{className:"inline-flex items-center px-4 py-2 rounded-full text-sm font-medium ".concat(B.is_compliant?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:B.is_compliant?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.FJM,{className:"mr-2"}),"省エネ基準適合"]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.gJy,{className:"mr-2"}),"省エネ基準不適合"]})})]}),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,l.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,l.jsx)("div",{className:"text-sm font-medium text-blue-800 mb-1",children:"設計一次エネルギー消費量"}),(0,l.jsxs)("div",{className:"text-2xl font-bold text-blue-900 mb-2",children:[null===(e=B.design_primary_energy_mj)||void 0===e?void 0:e.toLocaleString()," MJ/年"]}),S.renewable_energy&&parseFloat(S.renewable_energy)>0&&(0,l.jsxs)("div",{className:"text-xs text-blue-700",children:["再エネ控除: -",parseFloat(S.renewable_energy).toLocaleString()," MJ/年"]})]}),(0,l.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,l.jsx)("div",{className:"text-sm font-medium text-gray-800 mb-1",children:"基準一次エネルギー消費量"}),(0,l.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:[null===(t=B.standard_primary_energy_mj)||void 0===t?void 0:t.toLocaleString()," MJ/年"]}),(0,l.jsx)("div",{className:"text-xs text-gray-700 mt-1",children:"モデル建物法による算定値"})]})]}),(0,l.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,l.jsxs)("h4",{className:"font-medium text-gray-800 mb-3 flex items-center",children:[(0,l.jsx)(a.T_s,{className:"mr-2 text-blue-600"}),"計算根拠詳細"]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"基準エネルギー消費量内訳 (MJ/m\xb2年)"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 text-xs",children:[(0,l.jsxs)("div",{className:"bg-orange-50 p-2 rounded",children:[(0,l.jsx)("div",{className:"text-orange-800 font-medium",children:"暖房"}),(0,l.jsx)("div",{className:"text-orange-900",children:(null===(s=ee(S.building_type))||void 0===s?void 0:s.heating)||"-"})]}),(0,l.jsxs)("div",{className:"bg-blue-50 p-2 rounded",children:[(0,l.jsx)("div",{className:"text-blue-800 font-medium",children:"冷房"}),(0,l.jsx)("div",{className:"text-blue-900",children:(null===(n=ee(S.building_type))||void 0===n?void 0:n.cooling)||"-"})]}),(0,l.jsxs)("div",{className:"bg-green-50 p-2 rounded",children:[(0,l.jsx)("div",{className:"text-green-800 font-medium",children:"換気"}),(0,l.jsx)("div",{className:"text-green-900",children:(null===(i=ee(S.building_type))||void 0===i?void 0:i.ventilation)||"-"})]}),(0,l.jsxs)("div",{className:"bg-purple-50 p-2 rounded",children:[(0,l.jsx)("div",{className:"text-purple-800 font-medium",children:"給湯"}),(0,l.jsx)("div",{className:"text-purple-900",children:(null===(c=ee(S.building_type))||void 0===c?void 0:c.hot_water)||"-"})]}),(0,l.jsxs)("div",{className:"bg-yellow-50 p-2 rounded",children:[(0,l.jsx)("div",{className:"text-yellow-800 font-medium",children:"照明"}),(0,l.jsx)("div",{className:"text-yellow-900",children:(null===(g=ee(S.building_type))||void 0===g?void 0:g.lighting)||"-"})]}),(0,l.jsxs)("div",{className:"bg-gray-50 p-2 rounded",children:[(0,l.jsx)("div",{className:"text-gray-800 font-medium",children:"昇降機"}),(0,l.jsx)("div",{className:"text-gray-900",children:(null===(u=ee(S.building_type))||void 0===u?void 0:u.elevator)||"-"})]})]})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"適用された補正係数"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-xs",children:[(0,l.jsxs)("div",{className:"bg-blue-50 p-3 rounded",children:[(0,l.jsxs)("div",{className:"font-medium text-blue-800 mb-1",children:["地域補正係数 (",S.climate_zone,"地域)"]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{children:"暖房:"}),(0,l.jsx)("span",{className:"font-medium",children:(null===(p=et(S.climate_zone))||void 0===p?void 0:p.heating)||"-"})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{children:"冷房:"}),(0,l.jsx)("span",{className:"font-medium",children:(null===(j=et(S.climate_zone))||void 0===j?void 0:j.cooling)||"-"})]})]})]}),(0,l.jsxs)("div",{className:"bg-green-50 p-3 rounded",children:[(0,l.jsx)("div",{className:"font-medium text-green-800 mb-1",children:"規模補正係数"}),(0,l.jsxs)("div",{className:"text-green-900",children:["延床面積 ",Number(S.floor_area).toLocaleString(),"m\xb2",(0,l.jsx)("br",{}),"係数: ",es(S.building_type,S.floor_area)]})]})]})]}),(0,l.jsxs)("div",{className:"bg-yellow-50 p-3 rounded",children:[(0,l.jsx)("div",{className:"text-sm font-medium text-yellow-800 mb-2",children:"BEI計算式"}),(0,l.jsxs)("div",{className:"text-xs text-yellow-900 space-y-1",children:[(0,l.jsx)("div",{children:(0,l.jsx)("strong",{children:"BEI = 設計一次エネルギー消費量 \xf7 基準一次エネルギー消費量"})}),(0,l.jsxs)("div",{children:["= ",null===(v=B.design_primary_energy_mj)||void 0===v?void 0:v.toLocaleString()," \xf7 ",null===(f=B.standard_primary_energy_mj)||void 0===f?void 0:f.toLocaleString()]}),(0,l.jsxs)("div",{children:["= ",(0,l.jsx)("strong",{children:B.bei})]}),(0,l.jsx)("div",{className:"mt-2 pt-2 border-t border-yellow-200",children:"判定基準: BEI ≤ 1.0 で省エネ基準適合"})]})]}),(0,l.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,l.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,l.jsx)("strong",{children:"法的根拠:"}),(0,l.jsx)("br",{}),"• 建築物のエネルギー消費性能の向上に関する法律（建築物省エネ法）",(0,l.jsx)("br",{}),"• 国土交通省告示第1396号（平成28年1月29日）",(0,l.jsx)("br",{}),"• モデル建物法による標準入力法（平成28年国土交通省告示第265号）"]})})]}),(0,l.jsx)("div",{className:"bg-yellow-50 p-4 rounded-lg",children:(0,l.jsxs)("div",{className:"text-sm text-yellow-800",children:[(0,l.jsx)("strong",{children:"※ ご注意"}),(0,l.jsx)("br",{}),"この計算結果は目安です。実際の省エネ法適合性判定には、所管行政庁が認める評価方法による詳細計算が必要な場合があります。"]})})]}),(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[(0,l.jsxs)("button",{type:"button",onClick:()=>Y(!0),className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-6 rounded-lg transition-colors flex items-center justify-center space-x-2",children:[(0,l.jsx)(a.mGS,{}),(0,l.jsx)("span",{children:"審査機関向け計算書"})]}),(0,l.jsx)("button",{type:"button",onClick:()=>{R(1),P(null),D({}),Y(!1)},className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-lg transition-colors",children:"新しい計算を開始"})]})]}),(S.building_type||S.climate_zone||S.floor_area)&&!B&&(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,l.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center",children:[(0,l.jsx)(a.m17,{className:"mr-3 text-blue-600"}),"入力内容"]}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[S.building_type&&(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:"建物用途:"})," ",S.building_type]}),S.climate_zone&&(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:"地域区分:"})," ",S.climate_zone,"地域"]}),S.floor_area&&(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:"延床面積:"})," ",Number(S.floor_area).toLocaleString()," m\xb2"]})]})]})]})]}),G&&B&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg max-w-6xl max-h-[90vh] overflow-auto",children:[(0,l.jsxs)("div",{className:"sticky top-0 bg-white border-b p-4 flex justify-between items-center",children:[(0,l.jsx)("h2",{className:"text-xl font-bold",children:"建築物省エネ法 適合性判定申請書"}),(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsxs)("button",{onClick:()=>window.print(),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded flex items-center space-x-2",children:[(0,l.jsx)(a.rcQ,{}),(0,l.jsx)("span",{children:"印刷"})]}),(0,l.jsx)("button",{onClick:()=>Y(!1),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded",children:"閉じる"})]})]}),(0,l.jsx)(N,{result:B,formData:S,projectInfo:I,onDownload:el})]})})]})})}},8357:function(e,t,s){"use strict";s.d(t,{w_:function(){return c}});var l=s(7294),r={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=l.createContext&&l.createContext(r),n=function(){return(n=Object.assign||function(e){for(var t,s=1,l=arguments.length;s<l;s++)for(var r in t=arguments[s])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},i=function(e,t){var s={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&0>t.indexOf(l)&&(s[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,l=Object.getOwnPropertySymbols(e);r<l.length;r++)0>t.indexOf(l[r])&&Object.prototype.propertyIsEnumerable.call(e,l[r])&&(s[l[r]]=e[l[r]]);return s};function c(e){return function(t){return l.createElement(o,n({attr:n({},e.attr)},t),function e(t){return t&&t.map(function(t,s){return l.createElement(t.tag,n({key:s},t.attr),e(t.child))})}(e.child))}}function o(e){var t=function(t){var s,r=e.attr,a=e.size,c=e.title,o=i(e,["attr","size","title"]),d=a||t.size||"1em";return t.className&&(s=t.className),e.className&&(s=(s?s+" ":"")+e.className),l.createElement("svg",n({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:s,style:n(n({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),c&&l.createElement("title",null,c),e.children)};return void 0!==a?l.createElement(a.Consumer,null,function(e){return t(e)}):t(r)}}},function(e){e.O(0,[445,664,774,888,179],function(){return e(e.s=3936)}),_N_E=e.O()}]);