(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{545:function(e,s,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return l(2809)}])},8998:function(e,s,l){"use strict";l.d(s,{Z:function(){return x}});var t=l(5893),r=l(7294),a=l(4436),n=l(1664),i=l.n(n),c=l(9583);function o(){let{isAuthenticated:e,logout:s}=(0,a.aC)(),[l,n]=(0,r.useState)(!1),[o,d]=(0,r.useState)(!1),x=()=>{n(!1),d(!1)};return(0,t.jsxs)("header",{className:"bg-gradient-to-r from-blue-600 to-green-600 text-white shadow-lg",children:[(0,t.jsxs)("div",{className:"container mx-auto px-4 py-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)(i(),{href:"/",className:"text-xl font-bold hover:text-blue-200 transition-colors",children:"エネルギー計算サービス"}),(0,t.jsxs)("nav",{className:"hidden md:flex items-center space-x-6",children:[e&&(0,t.jsx)("li",{className:"list-none",children:(0,t.jsx)(i(),{href:"/projects",className:"hover:text-blue-200 transition-colors",children:"プロジェクト"})}),(0,t.jsxs)("li",{className:"relative list-none",children:[(0,t.jsxs)("button",{onClick:()=>{n(!l)},className:"flex items-center hover:text-blue-200 transition-colors",children:[(0,t.jsx)(c.T_s,{className:"mr-2"}),"計算ツール",(0,t.jsx)(c.RiI,{className:"ml-1 text-sm"})]}),l&&(0,t.jsxs)("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg py-2 z-50",children:[(0,t.jsx)(i(),{href:"/tools/bei-calculator",className:"block px-4 py-2 text-gray-800 hover:bg-blue-50 hover:text-blue-600 transition-colors",onClick:x,children:"BEI計算"}),(0,t.jsx)(i(),{href:"/tools/energy-calculator",className:"block px-4 py-2 text-gray-800 hover:bg-blue-50 hover:text-blue-600 transition-colors",onClick:x,children:"エネルギー計算"}),(0,t.jsx)(i(),{href:"/tools/tariff-calculator",className:"block px-4 py-2 text-gray-800 hover:bg-blue-50 hover:text-blue-600 transition-colors",onClick:x,children:"電力料金見積もり"})]})]}),e?(0,t.jsx)("li",{className:"list-none",children:(0,t.jsxs)("button",{onClick:s,className:"flex items-center hover:text-blue-200 transition-colors",children:[(0,t.jsx)(c.fHX,{className:"mr-2"}),"ログアウト"]})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("li",{className:"list-none",children:(0,t.jsx)(i(),{href:"/login",className:"hover:text-blue-200 transition-colors",children:"ログイン"})}),(0,t.jsx)("li",{className:"list-none",children:(0,t.jsx)(i(),{href:"/register",className:"bg-white text-blue-600 px-4 py-2 rounded-lg hover:bg-blue-50 transition-colors font-medium",children:"新規登録"})})]})]}),(0,t.jsx)("button",{onClick:()=>d(!o),className:"md:hidden text-2xl",children:o?(0,t.jsx)(c.aHS,{}):(0,t.jsx)(c.Fm7,{})})]}),o&&(0,t.jsx)("nav",{className:"md:hidden mt-4 pb-4 border-t border-blue-500 pt-4",children:(0,t.jsxs)("div",{className:"flex flex-col space-y-3",children:[e&&(0,t.jsx)(i(),{href:"/projects",className:"hover:text-blue-200 transition-colors",onClick:x,children:"プロジェクト"}),(0,t.jsxs)("div",{className:"border-l-4 border-blue-400 pl-4",children:[(0,t.jsx)("div",{className:"text-blue-200 font-medium mb-2",children:"計算ツール"}),(0,t.jsxs)("div",{className:"flex flex-col space-y-2 ml-2",children:[(0,t.jsx)(i(),{href:"/tools/bei-calculator",className:"text-sm hover:text-blue-200 transition-colors",onClick:x,children:"BEI計算"}),(0,t.jsx)(i(),{href:"/tools/energy-calculator",className:"text-sm hover:text-blue-200 transition-colors",onClick:x,children:"エネルギー計算"}),(0,t.jsx)(i(),{href:"/tools/tariff-calculator",className:"text-sm hover:text-blue-200 transition-colors",onClick:x,children:"電力料金見積もり"})]})]}),e?(0,t.jsxs)("button",{onClick:()=>{s(),x()},className:"flex items-center hover:text-blue-200 transition-colors text-left",children:[(0,t.jsx)(c.fHX,{className:"mr-2"}),"ログアウト"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i(),{href:"/login",className:"hover:text-blue-200 transition-colors",onClick:x,children:"ログイン"}),(0,t.jsx)(i(),{href:"/register",className:"bg-white text-blue-600 px-4 py-2 rounded-lg hover:bg-blue-50 transition-colors font-medium inline-block text-center",onClick:x,children:"新規登録"})]})]})})]}),(l||o)&&(0,t.jsx)("div",{className:"fixed inset-0 z-40",onClick:x})]})}function d(){return(0,t.jsx)("footer",{className:"bg-secondary-dark py-6 text-center",children:(0,t.jsx)("div",{className:"container mx-auto px-4",children:(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["\xa9 ",new Date().getFullYear()," 省エネ計算サービス. All rights reserved."]})})})}function x(e){let{children:s}=e;return(0,t.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,t.jsx)(o,{}),(0,t.jsx)("main",{className:"flex-grow container mx-auto px-4 py-8",children:s}),(0,t.jsx)(d,{})]})}},2809:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return h}});var t=l(5893),r=l(7294),a=l(1163),n=l(4436),i=l(8998),c=l(1664),o=l.n(c),d=l(2175),x=l(6310);let m=x.Ry().shape({email:x.Z_().email("メールアドレスの形式が正しくありません").required("メールアドレスは必須です"),password:x.Z_().required("パスワードは必須です")});function h(){let[e,s]=(0,r.useState)(""),{login:l}=(0,n.aC)(),c=(0,a.useRouter)(),x=async(e,t)=>{let{setSubmitting:r}=t;try{await l(e.email,e.password)?c.push("/projects"):s("ログインに失敗しました。メールアドレスかパスワードが正しくない可能性があります。")}catch(e){s("エラーが発生しました。しばらくしてからもう一度お試しください。"),console.error(e)}finally{r(!1)}};return(0,t.jsx)(i.Z,{children:(0,t.jsxs)("div",{className:"max-w-md mx-auto bg-white rounded-lg shadow-md p-8",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-center mb-6",children:"ログイン"}),e&&(0,t.jsx)("div",{className:"mb-4 bg-red-50 text-red-600 p-3 rounded",children:e}),(0,t.jsx)(d.J9,{initialValues:{email:"",password:""},validationSchema:m,onSubmit:x,children:e=>{let{isSubmitting:s}=e;return(0,t.jsxs)(d.l0,{children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{htmlFor:"email",className:"block mb-1 font-medium",children:"メールアドレス"}),(0,t.jsx)(d.gN,{id:"email",name:"email",type:"email",className:"w-full px-3 py-2 border rounded-md"}),(0,t.jsx)(d.Bc,{name:"email",component:"div",className:"text-red-500 text-sm mt-1"})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{htmlFor:"password",className:"block mb-1 font-medium",children:"パスワード"}),(0,t.jsx)(d.gN,{id:"password",name:"password",type:"password",className:"w-full px-3 py-2 border rounded-md"}),(0,t.jsx)(d.Bc,{name:"password",component:"div",className:"text-red-500 text-sm mt-1"})]}),(0,t.jsx)("button",{type:"submit",disabled:s,className:"w-full bg-primary hover:bg-primary-dark text-white font-bold py-2 px-4 rounded-md",children:s?"ログイン中...":"ログイン"})]})}}),(0,t.jsx)("div",{className:"mt-4 text-center",children:(0,t.jsxs)("p",{children:["アカウントをお持ちでない方は",(0,t.jsx)(o(),{href:"/register",className:"text-primary hover:underline",children:"こちら"}),"から登録"]})})]})})}}},function(e){e.O(0,[445,664,414,774,888,179],function(){return e(e.s=545)}),_N_E=e.O()}]);